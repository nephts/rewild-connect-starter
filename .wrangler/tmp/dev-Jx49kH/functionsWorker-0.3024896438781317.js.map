{
  "version": 3,
  "sources": ["../bundle-pW6QxB/checked-fetch.js", "../bundle-JS9iYr/checked-fetch.js", "../../../node_modules/bcryptjs/index.js", "../../../node_modules/cookie/src/index.ts", "../../../functions/api/_helpers.ts", "../../../functions/api/admin/codes.ts", "../../../functions/api/admin/set-role.ts", "../../../functions/api/admin/users.ts", "../../../functions/api/shifts/signup.ts", "../../../functions/api/announcements.ts", "../../../functions/api/codes.ts", "../../../functions/api/enter-code.ts", "../../../functions/api/login.ts", "../../../functions/api/logout.ts", "../../../functions/api/me.ts", "../../../functions/api/messages.ts", "../../../functions/api/photos.ts", "../../../functions/api/ping.ts", "../../../functions/api/shifts.ts", "../../../functions/api/signup.ts", "../pages-MWKW6Z/functionsRoutes-0.0631664454169154.mjs", "../bundle-JS9iYr/middleware-loader.entry.ts", "../bundle-JS9iYr/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/pages-template-worker.ts", "../../../node_modules/path-to-regexp/src/index.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../../../node_modules/wrangler/templates/middleware/common.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-pW6QxB/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-pW6QxB/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/dev-Jx49kH",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "/*\n Copyright (c) 2012 Nevins Bartolomeo <nevins.bartolomeo@gmail.com>\n Copyright (c) 2012 Shane Girish <shaneGirish@gmail.com>\n Copyright (c) 2025 Daniel Wirtz <dcode@dcode.io>\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions\n are met:\n 1. Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in the\n documentation and/or other materials provided with the distribution.\n 3. The name of the author may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// The Node.js crypto module is used as a fallback for the Web Crypto API. When\n// building for the browser, inclusion of the crypto module should be disabled,\n// which the package hints at in its package.json for bundlers that support it.\nimport nodeCrypto from \"crypto\";\n\n/**\n * The random implementation to use as a fallback.\n * @type {?function(number):!Array.<number>}\n * @inner\n */\nvar randomFallback = null;\n\n/**\n * Generates cryptographically secure random bytes.\n * @function\n * @param {number} len Bytes length\n * @returns {!Array.<number>} Random bytes\n * @throws {Error} If no random implementation is available\n * @inner\n */\nfunction randomBytes(len) {\n  // Web Crypto API. Globally available in the browser and in Node.js >=23.\n  try {\n    return crypto.getRandomValues(new Uint8Array(len));\n  } catch {}\n  // Node.js crypto module for non-browser environments.\n  try {\n    return nodeCrypto.randomBytes(len);\n  } catch {}\n  // Custom fallback specified with `setRandomFallback`.\n  if (!randomFallback) {\n    throw Error(\n      \"Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative\",\n    );\n  }\n  return randomFallback(len);\n}\n\n/**\n * Sets the pseudo random number generator to use as a fallback if neither node's `crypto` module nor the Web Crypto\n *  API is available. Please note: It is highly important that the PRNG used is cryptographically secure and that it\n *  is seeded properly!\n * @param {?function(number):!Array.<number>} random Function taking the number of bytes to generate as its\n *  sole argument, returning the corresponding array of cryptographically secure random byte values.\n * @see http://nodejs.org/api/crypto.html\n * @see http://www.w3.org/TR/WebCryptoAPI/\n */\nexport function setRandomFallback(random) {\n  randomFallback = random;\n}\n\n/**\n * Synchronously generates a salt.\n * @param {number=} rounds Number of rounds to use, defaults to 10 if omitted\n * @param {number=} seed_length Not supported.\n * @returns {string} Resulting salt\n * @throws {Error} If a random fallback is required but not set\n */\nexport function genSaltSync(rounds, seed_length) {\n  rounds = rounds || GENSALT_DEFAULT_LOG2_ROUNDS;\n  if (typeof rounds !== \"number\")\n    throw Error(\n      \"Illegal arguments: \" + typeof rounds + \", \" + typeof seed_length,\n    );\n  if (rounds < 4) rounds = 4;\n  else if (rounds > 31) rounds = 31;\n  var salt = [];\n  salt.push(\"$2b$\");\n  if (rounds < 10) salt.push(\"0\");\n  salt.push(rounds.toString());\n  salt.push(\"$\");\n  salt.push(base64_encode(randomBytes(BCRYPT_SALT_LEN), BCRYPT_SALT_LEN)); // May throw\n  return salt.join(\"\");\n}\n\n/**\n * Asynchronously generates a salt.\n * @param {(number|function(Error, string=))=} rounds Number of rounds to use, defaults to 10 if omitted\n * @param {(number|function(Error, string=))=} seed_length Not supported.\n * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting salt\n * @returns {!Promise} If `callback` has been omitted\n * @throws {Error} If `callback` is present but not a function\n */\nexport function genSalt(rounds, seed_length, callback) {\n  if (typeof seed_length === \"function\")\n    (callback = seed_length), (seed_length = undefined); // Not supported.\n  if (typeof rounds === \"function\") (callback = rounds), (rounds = undefined);\n  if (typeof rounds === \"undefined\") rounds = GENSALT_DEFAULT_LOG2_ROUNDS;\n  else if (typeof rounds !== \"number\")\n    throw Error(\"illegal arguments: \" + typeof rounds);\n\n  function _async(callback) {\n    nextTick(function () {\n      // Pretty thin, but salting is fast enough\n      try {\n        callback(null, genSaltSync(rounds));\n      } catch (err) {\n        callback(err);\n      }\n    });\n  }\n\n  if (callback) {\n    if (typeof callback !== \"function\")\n      throw Error(\"Illegal callback: \" + typeof callback);\n    _async(callback);\n  } else\n    return new Promise(function (resolve, reject) {\n      _async(function (err, res) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(res);\n      });\n    });\n}\n\n/**\n * Synchronously generates a hash for the given password.\n * @param {string} password Password to hash\n * @param {(number|string)=} salt Salt length to generate or salt to use, default to 10\n * @returns {string} Resulting hash\n */\nexport function hashSync(password, salt) {\n  if (typeof salt === \"undefined\") salt = GENSALT_DEFAULT_LOG2_ROUNDS;\n  if (typeof salt === \"number\") salt = genSaltSync(salt);\n  if (typeof password !== \"string\" || typeof salt !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof password + \", \" + typeof salt);\n  return _hash(password, salt);\n}\n\n/**\n * Asynchronously generates a hash for the given password.\n * @param {string} password Password to hash\n * @param {number|string} salt Salt length to generate or salt to use\n * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash\n * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\n *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\n * @returns {!Promise} If `callback` has been omitted\n * @throws {Error} If `callback` is present but not a function\n */\nexport function hash(password, salt, callback, progressCallback) {\n  function _async(callback) {\n    if (typeof password === \"string\" && typeof salt === \"number\")\n      genSalt(salt, function (err, salt) {\n        _hash(password, salt, callback, progressCallback);\n      });\n    else if (typeof password === \"string\" && typeof salt === \"string\")\n      _hash(password, salt, callback, progressCallback);\n    else\n      nextTick(\n        callback.bind(\n          this,\n          Error(\"Illegal arguments: \" + typeof password + \", \" + typeof salt),\n        ),\n      );\n  }\n\n  if (callback) {\n    if (typeof callback !== \"function\")\n      throw Error(\"Illegal callback: \" + typeof callback);\n    _async(callback);\n  } else\n    return new Promise(function (resolve, reject) {\n      _async(function (err, res) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(res);\n      });\n    });\n}\n\n/**\n * Compares two strings of the same length in constant time.\n * @param {string} known Must be of the correct length\n * @param {string} unknown Must be the same length as `known`\n * @returns {boolean}\n * @inner\n */\nfunction safeStringCompare(known, unknown) {\n  var diff = known.length ^ unknown.length;\n  for (var i = 0; i < known.length; ++i) {\n    diff |= known.charCodeAt(i) ^ unknown.charCodeAt(i);\n  }\n  return diff === 0;\n}\n\n/**\n * Synchronously tests a password against a hash.\n * @param {string} password Password to compare\n * @param {string} hash Hash to test against\n * @returns {boolean} true if matching, otherwise false\n * @throws {Error} If an argument is illegal\n */\nexport function compareSync(password, hash) {\n  if (typeof password !== \"string\" || typeof hash !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof password + \", \" + typeof hash);\n  if (hash.length !== 60) return false;\n  return safeStringCompare(\n    hashSync(password, hash.substring(0, hash.length - 31)),\n    hash,\n  );\n}\n\n/**\n * Asynchronously tests a password against a hash.\n * @param {string} password Password to compare\n * @param {string} hashValue Hash to test against\n * @param {function(Error, boolean)=} callback Callback receiving the error, if any, otherwise the result\n * @param {function(number)=} progressCallback Callback successively called with the percentage of rounds completed\n *  (0.0 - 1.0), maximally once per `MAX_EXECUTION_TIME = 100` ms.\n * @returns {!Promise} If `callback` has been omitted\n * @throws {Error} If `callback` is present but not a function\n */\nexport function compare(password, hashValue, callback, progressCallback) {\n  function _async(callback) {\n    if (typeof password !== \"string\" || typeof hashValue !== \"string\") {\n      nextTick(\n        callback.bind(\n          this,\n          Error(\n            \"Illegal arguments: \" + typeof password + \", \" + typeof hashValue,\n          ),\n        ),\n      );\n      return;\n    }\n    if (hashValue.length !== 60) {\n      nextTick(callback.bind(this, null, false));\n      return;\n    }\n    hash(\n      password,\n      hashValue.substring(0, 29),\n      function (err, comp) {\n        if (err) callback(err);\n        else callback(null, safeStringCompare(comp, hashValue));\n      },\n      progressCallback,\n    );\n  }\n\n  if (callback) {\n    if (typeof callback !== \"function\")\n      throw Error(\"Illegal callback: \" + typeof callback);\n    _async(callback);\n  } else\n    return new Promise(function (resolve, reject) {\n      _async(function (err, res) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(res);\n      });\n    });\n}\n\n/**\n * Gets the number of rounds used to encrypt the specified hash.\n * @param {string} hash Hash to extract the used number of rounds from\n * @returns {number} Number of rounds used\n * @throws {Error} If `hash` is not a string\n */\nexport function getRounds(hash) {\n  if (typeof hash !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof hash);\n  return parseInt(hash.split(\"$\")[2], 10);\n}\n\n/**\n * Gets the salt portion from a hash. Does not validate the hash.\n * @param {string} hash Hash to extract the salt from\n * @returns {string} Extracted salt part\n * @throws {Error} If `hash` is not a string or otherwise invalid\n */\nexport function getSalt(hash) {\n  if (typeof hash !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof hash);\n  if (hash.length !== 60)\n    throw Error(\"Illegal hash length: \" + hash.length + \" != 60\");\n  return hash.substring(0, 29);\n}\n\n/**\n * Tests if a password will be truncated when hashed, that is its length is\n * greater than 72 bytes when converted to UTF-8.\n * @param {string} password The password to test\n * @returns {boolean} `true` if truncated, otherwise `false`\n */\nexport function truncates(password) {\n  if (typeof password !== \"string\")\n    throw Error(\"Illegal arguments: \" + typeof password);\n  return utf8Length(password) > 72;\n}\n\n/**\n * Continues with the callback on the next tick.\n * @function\n * @param {function(...[*])} callback Callback to execute\n * @inner\n */\nvar nextTick =\n  typeof process !== \"undefined\" &&\n  process &&\n  typeof process.nextTick === \"function\"\n    ? typeof setImmediate === \"function\"\n      ? setImmediate\n      : process.nextTick\n    : setTimeout;\n\n/** Calculates the byte length of a string encoded as UTF8. */\nfunction utf8Length(string) {\n  var len = 0,\n    c = 0;\n  for (var i = 0; i < string.length; ++i) {\n    c = string.charCodeAt(i);\n    if (c < 128) len += 1;\n    else if (c < 2048) len += 2;\n    else if (\n      (c & 0xfc00) === 0xd800 &&\n      (string.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n    ) {\n      ++i;\n      len += 4;\n    } else len += 3;\n  }\n  return len;\n}\n\n/** Converts a string to an array of UTF8 bytes. */\nfunction utf8Array(string) {\n  var offset = 0,\n    c1,\n    c2;\n  var buffer = new Array(utf8Length(string));\n  for (var i = 0, k = string.length; i < k; ++i) {\n    c1 = string.charCodeAt(i);\n    if (c1 < 128) {\n      buffer[offset++] = c1;\n    } else if (c1 < 2048) {\n      buffer[offset++] = (c1 >> 6) | 192;\n      buffer[offset++] = (c1 & 63) | 128;\n    } else if (\n      (c1 & 0xfc00) === 0xd800 &&\n      ((c2 = string.charCodeAt(i + 1)) & 0xfc00) === 0xdc00\n    ) {\n      c1 = 0x10000 + ((c1 & 0x03ff) << 10) + (c2 & 0x03ff);\n      ++i;\n      buffer[offset++] = (c1 >> 18) | 240;\n      buffer[offset++] = ((c1 >> 12) & 63) | 128;\n      buffer[offset++] = ((c1 >> 6) & 63) | 128;\n      buffer[offset++] = (c1 & 63) | 128;\n    } else {\n      buffer[offset++] = (c1 >> 12) | 224;\n      buffer[offset++] = ((c1 >> 6) & 63) | 128;\n      buffer[offset++] = (c1 & 63) | 128;\n    }\n  }\n  return buffer;\n}\n\n// A base64 implementation for the bcrypt algorithm. This is partly non-standard.\n\n/**\n * bcrypt's own non-standard base64 dictionary.\n * @type {!Array.<string>}\n * @const\n * @inner\n **/\nvar BASE64_CODE =\n  \"./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".split(\"\");\n\n/**\n * @type {!Array.<number>}\n * @const\n * @inner\n **/\nvar BASE64_INDEX = [\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,\n  -1, -1, -1, -1, -1, -1, -1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, -1, -1, -1, -1, -1, -1, 28,\n  29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\n  48, 49, 50, 51, 52, 53, -1, -1, -1, -1, -1,\n];\n\n/**\n * Encodes a byte array to base64 with up to len bytes of input.\n * @param {!Array.<number>} b Byte array\n * @param {number} len Maximum input length\n * @returns {string}\n * @inner\n */\nfunction base64_encode(b, len) {\n  var off = 0,\n    rs = [],\n    c1,\n    c2;\n  if (len <= 0 || len > b.length) throw Error(\"Illegal len: \" + len);\n  while (off < len) {\n    c1 = b[off++] & 0xff;\n    rs.push(BASE64_CODE[(c1 >> 2) & 0x3f]);\n    c1 = (c1 & 0x03) << 4;\n    if (off >= len) {\n      rs.push(BASE64_CODE[c1 & 0x3f]);\n      break;\n    }\n    c2 = b[off++] & 0xff;\n    c1 |= (c2 >> 4) & 0x0f;\n    rs.push(BASE64_CODE[c1 & 0x3f]);\n    c1 = (c2 & 0x0f) << 2;\n    if (off >= len) {\n      rs.push(BASE64_CODE[c1 & 0x3f]);\n      break;\n    }\n    c2 = b[off++] & 0xff;\n    c1 |= (c2 >> 6) & 0x03;\n    rs.push(BASE64_CODE[c1 & 0x3f]);\n    rs.push(BASE64_CODE[c2 & 0x3f]);\n  }\n  return rs.join(\"\");\n}\n\n/**\n * Decodes a base64 encoded string to up to len bytes of output.\n * @param {string} s String to decode\n * @param {number} len Maximum output length\n * @returns {!Array.<number>}\n * @inner\n */\nfunction base64_decode(s, len) {\n  var off = 0,\n    slen = s.length,\n    olen = 0,\n    rs = [],\n    c1,\n    c2,\n    c3,\n    c4,\n    o,\n    code;\n  if (len <= 0) throw Error(\"Illegal len: \" + len);\n  while (off < slen - 1 && olen < len) {\n    code = s.charCodeAt(off++);\n    c1 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    code = s.charCodeAt(off++);\n    c2 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    if (c1 == -1 || c2 == -1) break;\n    o = (c1 << 2) >>> 0;\n    o |= (c2 & 0x30) >> 4;\n    rs.push(String.fromCharCode(o));\n    if (++olen >= len || off >= slen) break;\n    code = s.charCodeAt(off++);\n    c3 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    if (c3 == -1) break;\n    o = ((c2 & 0x0f) << 4) >>> 0;\n    o |= (c3 & 0x3c) >> 2;\n    rs.push(String.fromCharCode(o));\n    if (++olen >= len || off >= slen) break;\n    code = s.charCodeAt(off++);\n    c4 = code < BASE64_INDEX.length ? BASE64_INDEX[code] : -1;\n    o = ((c3 & 0x03) << 6) >>> 0;\n    o |= c4;\n    rs.push(String.fromCharCode(o));\n    ++olen;\n  }\n  var res = [];\n  for (off = 0; off < olen; off++) res.push(rs[off].charCodeAt(0));\n  return res;\n}\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar BCRYPT_SALT_LEN = 16;\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar GENSALT_DEFAULT_LOG2_ROUNDS = 10;\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar BLOWFISH_NUM_ROUNDS = 16;\n\n/**\n * @type {number}\n * @const\n * @inner\n */\nvar MAX_EXECUTION_TIME = 100;\n\n/**\n * @type {Array.<number>}\n * @const\n * @inner\n */\nvar P_ORIG = [\n  0x243f6a88, 0x85a308d3, 0x13198a2e, 0x03707344, 0xa4093822, 0x299f31d0,\n  0x082efa98, 0xec4e6c89, 0x452821e6, 0x38d01377, 0xbe5466cf, 0x34e90c6c,\n  0xc0ac29b7, 0xc97c50dd, 0x3f84d5b5, 0xb5470917, 0x9216d5d9, 0x8979fb1b,\n];\n\n/**\n * @type {Array.<number>}\n * @const\n * @inner\n */\nvar S_ORIG = [\n  0xd1310ba6, 0x98dfb5ac, 0x2ffd72db, 0xd01adfb7, 0xb8e1afed, 0x6a267e96,\n  0xba7c9045, 0xf12c7f99, 0x24a19947, 0xb3916cf7, 0x0801f2e2, 0x858efc16,\n  0x636920d8, 0x71574e69, 0xa458fea3, 0xf4933d7e, 0x0d95748f, 0x728eb658,\n  0x718bcd58, 0x82154aee, 0x7b54a41d, 0xc25a59b5, 0x9c30d539, 0x2af26013,\n  0xc5d1b023, 0x286085f0, 0xca417918, 0xb8db38ef, 0x8e79dcb0, 0x603a180e,\n  0x6c9e0e8b, 0xb01e8a3e, 0xd71577c1, 0xbd314b27, 0x78af2fda, 0x55605c60,\n  0xe65525f3, 0xaa55ab94, 0x57489862, 0x63e81440, 0x55ca396a, 0x2aab10b6,\n  0xb4cc5c34, 0x1141e8ce, 0xa15486af, 0x7c72e993, 0xb3ee1411, 0x636fbc2a,\n  0x2ba9c55d, 0x741831f6, 0xce5c3e16, 0x9b87931e, 0xafd6ba33, 0x6c24cf5c,\n  0x7a325381, 0x28958677, 0x3b8f4898, 0x6b4bb9af, 0xc4bfe81b, 0x66282193,\n  0x61d809cc, 0xfb21a991, 0x487cac60, 0x5dec8032, 0xef845d5d, 0xe98575b1,\n  0xdc262302, 0xeb651b88, 0x23893e81, 0xd396acc5, 0x0f6d6ff3, 0x83f44239,\n  0x2e0b4482, 0xa4842004, 0x69c8f04a, 0x9e1f9b5e, 0x21c66842, 0xf6e96c9a,\n  0x670c9c61, 0xabd388f0, 0x6a51a0d2, 0xd8542f68, 0x960fa728, 0xab5133a3,\n  0x6eef0b6c, 0x137a3be4, 0xba3bf050, 0x7efb2a98, 0xa1f1651d, 0x39af0176,\n  0x66ca593e, 0x82430e88, 0x8cee8619, 0x456f9fb4, 0x7d84a5c3, 0x3b8b5ebe,\n  0xe06f75d8, 0x85c12073, 0x401a449f, 0x56c16aa6, 0x4ed3aa62, 0x363f7706,\n  0x1bfedf72, 0x429b023d, 0x37d0d724, 0xd00a1248, 0xdb0fead3, 0x49f1c09b,\n  0x075372c9, 0x80991b7b, 0x25d479d8, 0xf6e8def7, 0xe3fe501a, 0xb6794c3b,\n  0x976ce0bd, 0x04c006ba, 0xc1a94fb6, 0x409f60c4, 0x5e5c9ec2, 0x196a2463,\n  0x68fb6faf, 0x3e6c53b5, 0x1339b2eb, 0x3b52ec6f, 0x6dfc511f, 0x9b30952c,\n  0xcc814544, 0xaf5ebd09, 0xbee3d004, 0xde334afd, 0x660f2807, 0x192e4bb3,\n  0xc0cba857, 0x45c8740f, 0xd20b5f39, 0xb9d3fbdb, 0x5579c0bd, 0x1a60320a,\n  0xd6a100c6, 0x402c7279, 0x679f25fe, 0xfb1fa3cc, 0x8ea5e9f8, 0xdb3222f8,\n  0x3c7516df, 0xfd616b15, 0x2f501ec8, 0xad0552ab, 0x323db5fa, 0xfd238760,\n  0x53317b48, 0x3e00df82, 0x9e5c57bb, 0xca6f8ca0, 0x1a87562e, 0xdf1769db,\n  0xd542a8f6, 0x287effc3, 0xac6732c6, 0x8c4f5573, 0x695b27b0, 0xbbca58c8,\n  0xe1ffa35d, 0xb8f011a0, 0x10fa3d98, 0xfd2183b8, 0x4afcb56c, 0x2dd1d35b,\n  0x9a53e479, 0xb6f84565, 0xd28e49bc, 0x4bfb9790, 0xe1ddf2da, 0xa4cb7e33,\n  0x62fb1341, 0xcee4c6e8, 0xef20cada, 0x36774c01, 0xd07e9efe, 0x2bf11fb4,\n  0x95dbda4d, 0xae909198, 0xeaad8e71, 0x6b93d5a0, 0xd08ed1d0, 0xafc725e0,\n  0x8e3c5b2f, 0x8e7594b7, 0x8ff6e2fb, 0xf2122b64, 0x8888b812, 0x900df01c,\n  0x4fad5ea0, 0x688fc31c, 0xd1cff191, 0xb3a8c1ad, 0x2f2f2218, 0xbe0e1777,\n  0xea752dfe, 0x8b021fa1, 0xe5a0cc0f, 0xb56f74e8, 0x18acf3d6, 0xce89e299,\n  0xb4a84fe0, 0xfd13e0b7, 0x7cc43b81, 0xd2ada8d9, 0x165fa266, 0x80957705,\n  0x93cc7314, 0x211a1477, 0xe6ad2065, 0x77b5fa86, 0xc75442f5, 0xfb9d35cf,\n  0xebcdaf0c, 0x7b3e89a0, 0xd6411bd3, 0xae1e7e49, 0x00250e2d, 0x2071b35e,\n  0x226800bb, 0x57b8e0af, 0x2464369b, 0xf009b91e, 0x5563911d, 0x59dfa6aa,\n  0x78c14389, 0xd95a537f, 0x207d5ba2, 0x02e5b9c5, 0x83260376, 0x6295cfa9,\n  0x11c81968, 0x4e734a41, 0xb3472dca, 0x7b14a94a, 0x1b510052, 0x9a532915,\n  0xd60f573f, 0xbc9bc6e4, 0x2b60a476, 0x81e67400, 0x08ba6fb5, 0x571be91f,\n  0xf296ec6b, 0x2a0dd915, 0xb6636521, 0xe7b9f9b6, 0xff34052e, 0xc5855664,\n  0x53b02d5d, 0xa99f8fa1, 0x08ba4799, 0x6e85076a, 0x4b7a70e9, 0xb5b32944,\n  0xdb75092e, 0xc4192623, 0xad6ea6b0, 0x49a7df7d, 0x9cee60b8, 0x8fedb266,\n  0xecaa8c71, 0x699a17ff, 0x5664526c, 0xc2b19ee1, 0x193602a5, 0x75094c29,\n  0xa0591340, 0xe4183a3e, 0x3f54989a, 0x5b429d65, 0x6b8fe4d6, 0x99f73fd6,\n  0xa1d29c07, 0xefe830f5, 0x4d2d38e6, 0xf0255dc1, 0x4cdd2086, 0x8470eb26,\n  0x6382e9c6, 0x021ecc5e, 0x09686b3f, 0x3ebaefc9, 0x3c971814, 0x6b6a70a1,\n  0x687f3584, 0x52a0e286, 0xb79c5305, 0xaa500737, 0x3e07841c, 0x7fdeae5c,\n  0x8e7d44ec, 0x5716f2b8, 0xb03ada37, 0xf0500c0d, 0xf01c1f04, 0x0200b3ff,\n  0xae0cf51a, 0x3cb574b2, 0x25837a58, 0xdc0921bd, 0xd19113f9, 0x7ca92ff6,\n  0x94324773, 0x22f54701, 0x3ae5e581, 0x37c2dadc, 0xc8b57634, 0x9af3dda7,\n  0xa9446146, 0x0fd0030e, 0xecc8c73e, 0xa4751e41, 0xe238cd99, 0x3bea0e2f,\n  0x3280bba1, 0x183eb331, 0x4e548b38, 0x4f6db908, 0x6f420d03, 0xf60a04bf,\n  0x2cb81290, 0x24977c79, 0x5679b072, 0xbcaf89af, 0xde9a771f, 0xd9930810,\n  0xb38bae12, 0xdccf3f2e, 0x5512721f, 0x2e6b7124, 0x501adde6, 0x9f84cd87,\n  0x7a584718, 0x7408da17, 0xbc9f9abc, 0xe94b7d8c, 0xec7aec3a, 0xdb851dfa,\n  0x63094366, 0xc464c3d2, 0xef1c1847, 0x3215d908, 0xdd433b37, 0x24c2ba16,\n  0x12a14d43, 0x2a65c451, 0x50940002, 0x133ae4dd, 0x71dff89e, 0x10314e55,\n  0x81ac77d6, 0x5f11199b, 0x043556f1, 0xd7a3c76b, 0x3c11183b, 0x5924a509,\n  0xf28fe6ed, 0x97f1fbfa, 0x9ebabf2c, 0x1e153c6e, 0x86e34570, 0xeae96fb1,\n  0x860e5e0a, 0x5a3e2ab3, 0x771fe71c, 0x4e3d06fa, 0x2965dcb9, 0x99e71d0f,\n  0x803e89d6, 0x5266c825, 0x2e4cc978, 0x9c10b36a, 0xc6150eba, 0x94e2ea78,\n  0xa5fc3c53, 0x1e0a2df4, 0xf2f74ea7, 0x361d2b3d, 0x1939260f, 0x19c27960,\n  0x5223a708, 0xf71312b6, 0xebadfe6e, 0xeac31f66, 0xe3bc4595, 0xa67bc883,\n  0xb17f37d1, 0x018cff28, 0xc332ddef, 0xbe6c5aa5, 0x65582185, 0x68ab9802,\n  0xeecea50f, 0xdb2f953b, 0x2aef7dad, 0x5b6e2f84, 0x1521b628, 0x29076170,\n  0xecdd4775, 0x619f1510, 0x13cca830, 0xeb61bd96, 0x0334fe1e, 0xaa0363cf,\n  0xb5735c90, 0x4c70a239, 0xd59e9e0b, 0xcbaade14, 0xeecc86bc, 0x60622ca7,\n  0x9cab5cab, 0xb2f3846e, 0x648b1eaf, 0x19bdf0ca, 0xa02369b9, 0x655abb50,\n  0x40685a32, 0x3c2ab4b3, 0x319ee9d5, 0xc021b8f7, 0x9b540b19, 0x875fa099,\n  0x95f7997e, 0x623d7da8, 0xf837889a, 0x97e32d77, 0x11ed935f, 0x16681281,\n  0x0e358829, 0xc7e61fd6, 0x96dedfa1, 0x7858ba99, 0x57f584a5, 0x1b227263,\n  0x9b83c3ff, 0x1ac24696, 0xcdb30aeb, 0x532e3054, 0x8fd948e4, 0x6dbc3128,\n  0x58ebf2ef, 0x34c6ffea, 0xfe28ed61, 0xee7c3c73, 0x5d4a14d9, 0xe864b7e3,\n  0x42105d14, 0x203e13e0, 0x45eee2b6, 0xa3aaabea, 0xdb6c4f15, 0xfacb4fd0,\n  0xc742f442, 0xef6abbb5, 0x654f3b1d, 0x41cd2105, 0xd81e799e, 0x86854dc7,\n  0xe44b476a, 0x3d816250, 0xcf62a1f2, 0x5b8d2646, 0xfc8883a0, 0xc1c7b6a3,\n  0x7f1524c3, 0x69cb7492, 0x47848a0b, 0x5692b285, 0x095bbf00, 0xad19489d,\n  0x1462b174, 0x23820e00, 0x58428d2a, 0x0c55f5ea, 0x1dadf43e, 0x233f7061,\n  0x3372f092, 0x8d937e41, 0xd65fecf1, 0x6c223bdb, 0x7cde3759, 0xcbee7460,\n  0x4085f2a7, 0xce77326e, 0xa6078084, 0x19f8509e, 0xe8efd855, 0x61d99735,\n  0xa969a7aa, 0xc50c06c2, 0x5a04abfc, 0x800bcadc, 0x9e447a2e, 0xc3453484,\n  0xfdd56705, 0x0e1e9ec9, 0xdb73dbd3, 0x105588cd, 0x675fda79, 0xe3674340,\n  0xc5c43465, 0x713e38d8, 0x3d28f89e, 0xf16dff20, 0x153e21e7, 0x8fb03d4a,\n  0xe6e39f2b, 0xdb83adf7, 0xe93d5a68, 0x948140f7, 0xf64c261c, 0x94692934,\n  0x411520f7, 0x7602d4f7, 0xbcf46b2e, 0xd4a20068, 0xd4082471, 0x3320f46a,\n  0x43b7d4b7, 0x500061af, 0x1e39f62e, 0x97244546, 0x14214f74, 0xbf8b8840,\n  0x4d95fc1d, 0x96b591af, 0x70f4ddd3, 0x66a02f45, 0xbfbc09ec, 0x03bd9785,\n  0x7fac6dd0, 0x31cb8504, 0x96eb27b3, 0x55fd3941, 0xda2547e6, 0xabca0a9a,\n  0x28507825, 0x530429f4, 0x0a2c86da, 0xe9b66dfb, 0x68dc1462, 0xd7486900,\n  0x680ec0a4, 0x27a18dee, 0x4f3ffea2, 0xe887ad8c, 0xb58ce006, 0x7af4d6b6,\n  0xaace1e7c, 0xd3375fec, 0xce78a399, 0x406b2a42, 0x20fe9e35, 0xd9f385b9,\n  0xee39d7ab, 0x3b124e8b, 0x1dc9faf7, 0x4b6d1856, 0x26a36631, 0xeae397b2,\n  0x3a6efa74, 0xdd5b4332, 0x6841e7f7, 0xca7820fb, 0xfb0af54e, 0xd8feb397,\n  0x454056ac, 0xba489527, 0x55533a3a, 0x20838d87, 0xfe6ba9b7, 0xd096954b,\n  0x55a867bc, 0xa1159a58, 0xcca92963, 0x99e1db33, 0xa62a4a56, 0x3f3125f9,\n  0x5ef47e1c, 0x9029317c, 0xfdf8e802, 0x04272f70, 0x80bb155c, 0x05282ce3,\n  0x95c11548, 0xe4c66d22, 0x48c1133f, 0xc70f86dc, 0x07f9c9ee, 0x41041f0f,\n  0x404779a4, 0x5d886e17, 0x325f51eb, 0xd59bc0d1, 0xf2bcc18f, 0x41113564,\n  0x257b7834, 0x602a9c60, 0xdff8e8a3, 0x1f636c1b, 0x0e12b4c2, 0x02e1329e,\n  0xaf664fd1, 0xcad18115, 0x6b2395e0, 0x333e92e1, 0x3b240b62, 0xeebeb922,\n  0x85b2a20e, 0xe6ba0d99, 0xde720c8c, 0x2da2f728, 0xd0127845, 0x95b794fd,\n  0x647d0862, 0xe7ccf5f0, 0x5449a36f, 0x877d48fa, 0xc39dfd27, 0xf33e8d1e,\n  0x0a476341, 0x992eff74, 0x3a6f6eab, 0xf4f8fd37, 0xa812dc60, 0xa1ebddf8,\n  0x991be14c, 0xdb6e6b0d, 0xc67b5510, 0x6d672c37, 0x2765d43b, 0xdcd0e804,\n  0xf1290dc7, 0xcc00ffa3, 0xb5390f92, 0x690fed0b, 0x667b9ffb, 0xcedb7d9c,\n  0xa091cf0b, 0xd9155ea3, 0xbb132f88, 0x515bad24, 0x7b9479bf, 0x763bd6eb,\n  0x37392eb3, 0xcc115979, 0x8026e297, 0xf42e312d, 0x6842ada7, 0xc66a2b3b,\n  0x12754ccc, 0x782ef11c, 0x6a124237, 0xb79251e7, 0x06a1bbe6, 0x4bfb6350,\n  0x1a6b1018, 0x11caedfa, 0x3d25bdd8, 0xe2e1c3c9, 0x44421659, 0x0a121386,\n  0xd90cec6e, 0xd5abea2a, 0x64af674e, 0xda86a85f, 0xbebfe988, 0x64e4c3fe,\n  0x9dbc8057, 0xf0f7c086, 0x60787bf8, 0x6003604d, 0xd1fd8346, 0xf6381fb0,\n  0x7745ae04, 0xd736fccc, 0x83426b33, 0xf01eab71, 0xb0804187, 0x3c005e5f,\n  0x77a057be, 0xbde8ae24, 0x55464299, 0xbf582e61, 0x4e58f48f, 0xf2ddfda2,\n  0xf474ef38, 0x8789bdc2, 0x5366f9c3, 0xc8b38e74, 0xb475f255, 0x46fcd9b9,\n  0x7aeb2661, 0x8b1ddf84, 0x846a0e79, 0x915f95e2, 0x466e598e, 0x20b45770,\n  0x8cd55591, 0xc902de4c, 0xb90bace1, 0xbb8205d0, 0x11a86248, 0x7574a99e,\n  0xb77f19b6, 0xe0a9dc09, 0x662d09a1, 0xc4324633, 0xe85a1f02, 0x09f0be8c,\n  0x4a99a025, 0x1d6efe10, 0x1ab93d1d, 0x0ba5a4df, 0xa186f20f, 0x2868f169,\n  0xdcb7da83, 0x573906fe, 0xa1e2ce9b, 0x4fcd7f52, 0x50115e01, 0xa70683fa,\n  0xa002b5c4, 0x0de6d027, 0x9af88c27, 0x773f8641, 0xc3604c06, 0x61a806b5,\n  0xf0177a28, 0xc0f586e0, 0x006058aa, 0x30dc7d62, 0x11e69ed7, 0x2338ea63,\n  0x53c2dd94, 0xc2c21634, 0xbbcbee56, 0x90bcb6de, 0xebfc7da1, 0xce591d76,\n  0x6f05e409, 0x4b7c0188, 0x39720a3d, 0x7c927c24, 0x86e3725f, 0x724d9db9,\n  0x1ac15bb4, 0xd39eb8fc, 0xed545578, 0x08fca5b5, 0xd83d7cd3, 0x4dad0fc4,\n  0x1e50ef5e, 0xb161e6f8, 0xa28514d9, 0x6c51133c, 0x6fd5c7e7, 0x56e14ec4,\n  0x362abfce, 0xddc6c837, 0xd79a3234, 0x92638212, 0x670efa8e, 0x406000e0,\n  0x3a39ce37, 0xd3faf5cf, 0xabc27737, 0x5ac52d1b, 0x5cb0679e, 0x4fa33742,\n  0xd3822740, 0x99bc9bbe, 0xd5118e9d, 0xbf0f7315, 0xd62d1c7e, 0xc700c47b,\n  0xb78c1b6b, 0x21a19045, 0xb26eb1be, 0x6a366eb4, 0x5748ab2f, 0xbc946e79,\n  0xc6a376d2, 0x6549c2c8, 0x530ff8ee, 0x468dde7d, 0xd5730a1d, 0x4cd04dc6,\n  0x2939bbdb, 0xa9ba4650, 0xac9526e8, 0xbe5ee304, 0xa1fad5f0, 0x6a2d519a,\n  0x63ef8ce2, 0x9a86ee22, 0xc089c2b8, 0x43242ef6, 0xa51e03aa, 0x9cf2d0a4,\n  0x83c061ba, 0x9be96a4d, 0x8fe51550, 0xba645bd6, 0x2826a2f9, 0xa73a3ae1,\n  0x4ba99586, 0xef5562e9, 0xc72fefd3, 0xf752f7da, 0x3f046f69, 0x77fa0a59,\n  0x80e4a915, 0x87b08601, 0x9b09e6ad, 0x3b3ee593, 0xe990fd5a, 0x9e34d797,\n  0x2cf0b7d9, 0x022b8b51, 0x96d5ac3a, 0x017da67d, 0xd1cf3ed6, 0x7c7d2d28,\n  0x1f9f25cf, 0xadf2b89b, 0x5ad6b472, 0x5a88f54c, 0xe029ac71, 0xe019a5e6,\n  0x47b0acfd, 0xed93fa9b, 0xe8d3c48d, 0x283b57cc, 0xf8d56629, 0x79132e28,\n  0x785f0191, 0xed756055, 0xf7960e44, 0xe3d35e8c, 0x15056dd4, 0x88f46dba,\n  0x03a16125, 0x0564f0bd, 0xc3eb9e15, 0x3c9057a2, 0x97271aec, 0xa93a072a,\n  0x1b3f6d9b, 0x1e6321f5, 0xf59c66fb, 0x26dcf319, 0x7533d928, 0xb155fdf5,\n  0x03563482, 0x8aba3cbb, 0x28517711, 0xc20ad9f8, 0xabcc5167, 0xccad925f,\n  0x4de81751, 0x3830dc8e, 0x379d5862, 0x9320f991, 0xea7a90c2, 0xfb3e7bce,\n  0x5121ce64, 0x774fbe32, 0xa8b6e37e, 0xc3293d46, 0x48de5369, 0x6413e680,\n  0xa2ae0810, 0xdd6db224, 0x69852dfd, 0x09072166, 0xb39a460a, 0x6445c0dd,\n  0x586cdecf, 0x1c20c8ae, 0x5bbef7dd, 0x1b588d40, 0xccd2017f, 0x6bb4e3bb,\n  0xdda26a7e, 0x3a59ff45, 0x3e350a44, 0xbcb4cdd5, 0x72eacea8, 0xfa6484bb,\n  0x8d6612ae, 0xbf3c6f47, 0xd29be463, 0x542f5d9e, 0xaec2771b, 0xf64e6370,\n  0x740e0d8d, 0xe75b1357, 0xf8721671, 0xaf537d5d, 0x4040cb08, 0x4eb4e2cc,\n  0x34d2466a, 0x0115af84, 0xe1b00428, 0x95983a1d, 0x06b89fb4, 0xce6ea048,\n  0x6f3f3b82, 0x3520ab82, 0x011a1d4b, 0x277227f8, 0x611560b1, 0xe7933fdc,\n  0xbb3a792b, 0x344525bd, 0xa08839e1, 0x51ce794b, 0x2f32c9b7, 0xa01fbac9,\n  0xe01cc87e, 0xbcc7d1f6, 0xcf0111c3, 0xa1e8aac7, 0x1a908749, 0xd44fbd9a,\n  0xd0dadecb, 0xd50ada38, 0x0339c32a, 0xc6913667, 0x8df9317c, 0xe0b12b4f,\n  0xf79e59b7, 0x43f5bb3a, 0xf2d519ff, 0x27d9459c, 0xbf97222c, 0x15e6fc2a,\n  0x0f91fc71, 0x9b941525, 0xfae59361, 0xceb69ceb, 0xc2a86459, 0x12baa8d1,\n  0xb6c1075e, 0xe3056a0c, 0x10d25065, 0xcb03a442, 0xe0ec6e0e, 0x1698db3b,\n  0x4c98a0be, 0x3278e964, 0x9f1f9532, 0xe0d392df, 0xd3a0342b, 0x8971f21e,\n  0x1b0a7441, 0x4ba3348c, 0xc5be7120, 0xc37632d8, 0xdf359f8d, 0x9b992f2e,\n  0xe60b6f47, 0x0fe3f11d, 0xe54cda54, 0x1edad891, 0xce6279cf, 0xcd3e7e6f,\n  0x1618b166, 0xfd2c1d05, 0x848fd2c5, 0xf6fb2299, 0xf523f357, 0xa6327623,\n  0x93a83531, 0x56cccd02, 0xacf08162, 0x5a75ebb5, 0x6e163697, 0x88d273cc,\n  0xde966292, 0x81b949d0, 0x4c50901b, 0x71c65614, 0xe6c6c7bd, 0x327a140a,\n  0x45e1d006, 0xc3f27b9a, 0xc9aa53fd, 0x62a80f00, 0xbb25bfe2, 0x35bdd2f6,\n  0x71126905, 0xb2040222, 0xb6cbcf7c, 0xcd769c2b, 0x53113ec0, 0x1640e3d3,\n  0x38abbd60, 0x2547adf0, 0xba38209c, 0xf746ce76, 0x77afa1c5, 0x20756060,\n  0x85cbfe4e, 0x8ae88dd8, 0x7aaaf9b0, 0x4cf9aa7e, 0x1948c25c, 0x02fb8a8c,\n  0x01c36ae4, 0xd6ebe1f9, 0x90d4f869, 0xa65cdea0, 0x3f09252d, 0xc208e69f,\n  0xb74e6132, 0xce77e25b, 0x578fdfe3, 0x3ac372e6,\n];\n\n/**\n * @type {Array.<number>}\n * @const\n * @inner\n */\nvar C_ORIG = [\n  0x4f727068, 0x65616e42, 0x65686f6c, 0x64657253, 0x63727944, 0x6f756274,\n];\n\n/**\n * @param {Array.<number>} lr\n * @param {number} off\n * @param {Array.<number>} P\n * @param {Array.<number>} S\n * @returns {Array.<number>}\n * @inner\n */\nfunction _encipher(lr, off, P, S) {\n  // This is our bottleneck: 1714/1905 ticks / 90% - see profile.txt\n  var n,\n    l = lr[off],\n    r = lr[off + 1];\n\n  l ^= P[0];\n\n  /*\n    for (var i=0, k=BLOWFISH_NUM_ROUNDS-2; i<=k;)\n        // Feistel substitution on left word\n        n  = S[l >>> 24],\n        n += S[0x100 | ((l >> 16) & 0xff)],\n        n ^= S[0x200 | ((l >> 8) & 0xff)],\n        n += S[0x300 | (l & 0xff)],\n        r ^= n ^ P[++i],\n        // Feistel substitution on right word\n        n  = S[r >>> 24],\n        n += S[0x100 | ((r >> 16) & 0xff)],\n        n ^= S[0x200 | ((r >> 8) & 0xff)],\n        n += S[0x300 | (r & 0xff)],\n        l ^= n ^ P[++i];\n    */\n\n  //The following is an unrolled version of the above loop.\n  //Iteration 0\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[1];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[2];\n  //Iteration 1\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[3];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[4];\n  //Iteration 2\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[5];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[6];\n  //Iteration 3\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[7];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[8];\n  //Iteration 4\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[9];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[10];\n  //Iteration 5\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[11];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[12];\n  //Iteration 6\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[13];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[14];\n  //Iteration 7\n  n = S[l >>> 24];\n  n += S[0x100 | ((l >> 16) & 0xff)];\n  n ^= S[0x200 | ((l >> 8) & 0xff)];\n  n += S[0x300 | (l & 0xff)];\n  r ^= n ^ P[15];\n  n = S[r >>> 24];\n  n += S[0x100 | ((r >> 16) & 0xff)];\n  n ^= S[0x200 | ((r >> 8) & 0xff)];\n  n += S[0x300 | (r & 0xff)];\n  l ^= n ^ P[16];\n\n  lr[off] = r ^ P[BLOWFISH_NUM_ROUNDS + 1];\n  lr[off + 1] = l;\n  return lr;\n}\n\n/**\n * @param {Array.<number>} data\n * @param {number} offp\n * @returns {{key: number, offp: number}}\n * @inner\n */\nfunction _streamtoword(data, offp) {\n  for (var i = 0, word = 0; i < 4; ++i)\n    (word = (word << 8) | (data[offp] & 0xff)),\n      (offp = (offp + 1) % data.length);\n  return { key: word, offp: offp };\n}\n\n/**\n * @param {Array.<number>} key\n * @param {Array.<number>} P\n * @param {Array.<number>} S\n * @inner\n */\nfunction _key(key, P, S) {\n  var offset = 0,\n    lr = [0, 0],\n    plen = P.length,\n    slen = S.length,\n    sw;\n  for (var i = 0; i < plen; i++)\n    (sw = _streamtoword(key, offset)),\n      (offset = sw.offp),\n      (P[i] = P[i] ^ sw.key);\n  for (i = 0; i < plen; i += 2)\n    (lr = _encipher(lr, 0, P, S)), (P[i] = lr[0]), (P[i + 1] = lr[1]);\n  for (i = 0; i < slen; i += 2)\n    (lr = _encipher(lr, 0, P, S)), (S[i] = lr[0]), (S[i + 1] = lr[1]);\n}\n\n/**\n * Expensive key schedule Blowfish.\n * @param {Array.<number>} data\n * @param {Array.<number>} key\n * @param {Array.<number>} P\n * @param {Array.<number>} S\n * @inner\n */\nfunction _ekskey(data, key, P, S) {\n  var offp = 0,\n    lr = [0, 0],\n    plen = P.length,\n    slen = S.length,\n    sw;\n  for (var i = 0; i < plen; i++)\n    (sw = _streamtoword(key, offp)), (offp = sw.offp), (P[i] = P[i] ^ sw.key);\n  offp = 0;\n  for (i = 0; i < plen; i += 2)\n    (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[0] ^= sw.key),\n      (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[1] ^= sw.key),\n      (lr = _encipher(lr, 0, P, S)),\n      (P[i] = lr[0]),\n      (P[i + 1] = lr[1]);\n  for (i = 0; i < slen; i += 2)\n    (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[0] ^= sw.key),\n      (sw = _streamtoword(data, offp)),\n      (offp = sw.offp),\n      (lr[1] ^= sw.key),\n      (lr = _encipher(lr, 0, P, S)),\n      (S[i] = lr[0]),\n      (S[i + 1] = lr[1]);\n}\n\n/**\n * Internaly crypts a string.\n * @param {Array.<number>} b Bytes to crypt\n * @param {Array.<number>} salt Salt bytes to use\n * @param {number} rounds Number of rounds\n * @param {function(Error, Array.<number>=)=} callback Callback receiving the error, if any, and the resulting bytes. If\n *  omitted, the operation will be performed synchronously.\n *  @param {function(number)=} progressCallback Callback called with the current progress\n * @returns {!Array.<number>|undefined} Resulting bytes if callback has been omitted, otherwise `undefined`\n * @inner\n */\nfunction _crypt(b, salt, rounds, callback, progressCallback) {\n  var cdata = C_ORIG.slice(),\n    clen = cdata.length,\n    err;\n\n  // Validate\n  if (rounds < 4 || rounds > 31) {\n    err = Error(\"Illegal number of rounds (4-31): \" + rounds);\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  if (salt.length !== BCRYPT_SALT_LEN) {\n    err = Error(\n      \"Illegal salt length: \" + salt.length + \" != \" + BCRYPT_SALT_LEN,\n    );\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  rounds = (1 << rounds) >>> 0;\n\n  var P,\n    S,\n    i = 0,\n    j;\n\n  //Use typed arrays when available - huge speedup!\n  if (typeof Int32Array === \"function\") {\n    P = new Int32Array(P_ORIG);\n    S = new Int32Array(S_ORIG);\n  } else {\n    P = P_ORIG.slice();\n    S = S_ORIG.slice();\n  }\n\n  _ekskey(salt, b, P, S);\n\n  /**\n   * Calcualtes the next round.\n   * @returns {Array.<number>|undefined} Resulting array if callback has been omitted, otherwise `undefined`\n   * @inner\n   */\n  function next() {\n    if (progressCallback) progressCallback(i / rounds);\n    if (i < rounds) {\n      var start = Date.now();\n      for (; i < rounds; ) {\n        i = i + 1;\n        _key(b, P, S);\n        _key(salt, P, S);\n        if (Date.now() - start > MAX_EXECUTION_TIME) break;\n      }\n    } else {\n      for (i = 0; i < 64; i++)\n        for (j = 0; j < clen >> 1; j++) _encipher(cdata, j << 1, P, S);\n      var ret = [];\n      for (i = 0; i < clen; i++)\n        ret.push(((cdata[i] >> 24) & 0xff) >>> 0),\n          ret.push(((cdata[i] >> 16) & 0xff) >>> 0),\n          ret.push(((cdata[i] >> 8) & 0xff) >>> 0),\n          ret.push((cdata[i] & 0xff) >>> 0);\n      if (callback) {\n        callback(null, ret);\n        return;\n      } else return ret;\n    }\n    if (callback) nextTick(next);\n  }\n\n  // Async\n  if (typeof callback !== \"undefined\") {\n    next();\n\n    // Sync\n  } else {\n    var res;\n    while (true) if (typeof (res = next()) !== \"undefined\") return res || [];\n  }\n}\n\n/**\n * Internally hashes a password.\n * @param {string} password Password to hash\n * @param {?string} salt Salt to use, actually never null\n * @param {function(Error, string=)=} callback Callback receiving the error, if any, and the resulting hash. If omitted,\n *  hashing is performed synchronously.\n *  @param {function(number)=} progressCallback Callback called with the current progress\n * @returns {string|undefined} Resulting hash if callback has been omitted, otherwise `undefined`\n * @inner\n */\nfunction _hash(password, salt, callback, progressCallback) {\n  var err;\n  if (typeof password !== \"string\" || typeof salt !== \"string\") {\n    err = Error(\"Invalid string / salt: Not a string\");\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n\n  // Validate the salt\n  var minor, offset;\n  if (salt.charAt(0) !== \"$\" || salt.charAt(1) !== \"2\") {\n    err = Error(\"Invalid salt version: \" + salt.substring(0, 2));\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  if (salt.charAt(2) === \"$\") (minor = String.fromCharCode(0)), (offset = 3);\n  else {\n    minor = salt.charAt(2);\n    if (\n      (minor !== \"a\" && minor !== \"b\" && minor !== \"y\") ||\n      salt.charAt(3) !== \"$\"\n    ) {\n      err = Error(\"Invalid salt revision: \" + salt.substring(2, 4));\n      if (callback) {\n        nextTick(callback.bind(this, err));\n        return;\n      } else throw err;\n    }\n    offset = 4;\n  }\n\n  // Extract number of rounds\n  if (salt.charAt(offset + 2) > \"$\") {\n    err = Error(\"Missing salt rounds\");\n    if (callback) {\n      nextTick(callback.bind(this, err));\n      return;\n    } else throw err;\n  }\n  var r1 = parseInt(salt.substring(offset, offset + 1), 10) * 10,\n    r2 = parseInt(salt.substring(offset + 1, offset + 2), 10),\n    rounds = r1 + r2,\n    real_salt = salt.substring(offset + 3, offset + 25);\n  password += minor >= \"a\" ? \"\\x00\" : \"\";\n\n  var passwordb = utf8Array(password),\n    saltb = base64_decode(real_salt, BCRYPT_SALT_LEN);\n\n  /**\n   * Finishes hashing.\n   * @param {Array.<number>} bytes Byte array\n   * @returns {string}\n   * @inner\n   */\n  function finish(bytes) {\n    var res = [];\n    res.push(\"$2\");\n    if (minor >= \"a\") res.push(minor);\n    res.push(\"$\");\n    if (rounds < 10) res.push(\"0\");\n    res.push(rounds.toString());\n    res.push(\"$\");\n    res.push(base64_encode(saltb, saltb.length));\n    res.push(base64_encode(bytes, C_ORIG.length * 4 - 1));\n    return res.join(\"\");\n  }\n\n  // Sync\n  if (typeof callback == \"undefined\")\n    return finish(_crypt(passwordb, saltb, rounds));\n  // Async\n  else {\n    _crypt(\n      passwordb,\n      saltb,\n      rounds,\n      function (err, bytes) {\n        if (err) callback(err, null);\n        else callback(null, finish(bytes));\n      },\n      progressCallback,\n    );\n  }\n}\n\n/**\n * Encodes a byte array to base64 with up to len bytes of input, using the custom bcrypt alphabet.\n * @function\n * @param {!Array.<number>} bytes Byte array\n * @param {number} length Maximum input length\n * @returns {string}\n */\nexport function encodeBase64(bytes, length) {\n  return base64_encode(bytes, length);\n}\n\n/**\n * Decodes a base64 encoded string to up to len bytes of output, using the custom bcrypt alphabet.\n * @function\n * @param {string} string String to decode\n * @param {number} length Maximum output length\n * @returns {!Array.<number>}\n */\nexport function decodeBase64(string, length) {\n  return base64_decode(string, length);\n}\n\nexport default {\n  setRandomFallback,\n  genSaltSync,\n  genSalt,\n  hashSync,\n  hash,\n  compareSync,\n  compare,\n  getRounds,\n  getSalt,\n  truncates,\n  encodeBase64,\n  decodeBase64,\n};\n", "/**\n * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n * which has been replaced by the token definition in RFC 7230 appendix B.\n *\n * cookie-name       = token\n * token             = 1*tchar\n * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n *\n * Note: Allowing more characters - https://github.com/jshttp/cookie/issues/191\n * Allow same range as cookie value, except `=`, which delimits end of name.\n */\nconst cookieNameRegExp = /^[\\u0021-\\u003A\\u003C\\u003E-\\u007E]+$/;\n\n/**\n * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n *\n * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n *                     ; US-ASCII characters excluding CTLs,\n *                     ; whitespace DQUOTE, comma, semicolon,\n *                     ; and backslash\n *\n * Allowing more characters: https://github.com/jshttp/cookie/issues/191\n * Comma, backslash, and DQUOTE are not part of the parsing algorithm.\n */\nconst cookieValueRegExp = /^[\\u0021-\\u003A\\u003C-\\u007E]*$/;\n\n/**\n * RegExp to match domain-value in RFC 6265 sec 4.1.1\n *\n * domain-value      = <subdomain>\n *                     ; defined in [RFC1034], Section 3.5, as\n *                     ; enhanced by [RFC1123], Section 2.1\n * <subdomain>       = <label> | <subdomain> \".\" <label>\n * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n *                     Labels must be 63 characters or less.\n *                     'let-dig' not 'letter' in the first char, per RFC1123\n * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n * <let-dig-hyp>     = <let-dig> | \"-\"\n * <let-dig>         = <letter> | <digit>\n * <letter>          = any one of the 52 alphabetic characters A through Z in\n *                     upper case and a through z in lower case\n * <digit>           = any one of the ten digits 0 through 9\n *\n * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n *\n * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n * character is not permitted, but a trailing %x2E (\".\"), if present, will\n * cause the user agent to ignore the attribute.)\n */\nconst domainValueRegExp =\n  /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n/**\n * RegExp to match path-value in RFC 6265 sec 4.1.1\n *\n * path-value        = <any CHAR except CTLs or \";\">\n * CHAR              = %x01-7F\n *                     ; defined in RFC 5234 appendix B.1\n */\nconst pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\nconst __toString = Object.prototype.toString;\n\nconst NullObject = /* @__PURE__ */ (() => {\n  const C = function () {};\n  C.prototype = Object.create(null);\n  return C;\n})() as unknown as { new (): any };\n\n/**\n * Parse options.\n */\nexport interface ParseOptions {\n  /**\n   * Specifies a function that will be used to decode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since the value of a cookie has a limited character set (and must be a simple string), this function can be used to decode\n   * a previously-encoded cookie value into a JavaScript string.\n   *\n   * The default function is the global `decodeURIComponent`, wrapped in a `try..catch`. If an error\n   * is thrown it will return the cookie's original value. If you provide your own encode/decode\n   * scheme you must ensure errors are appropriately handled.\n   *\n   * @default decode\n   */\n  decode?: (str: string) => string | undefined;\n}\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n */\nexport function parse(\n  str: string,\n  options?: ParseOptions,\n): Record<string, string | undefined> {\n  const obj: Record<string, string | undefined> = new NullObject();\n  const len = str.length;\n  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n  if (len < 2) return obj;\n\n  const dec = options?.decode || decode;\n  let index = 0;\n\n  do {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) break; // No more cookie pairs.\n\n    const colonIdx = str.indexOf(\";\", index);\n    const endIdx = colonIdx === -1 ? len : colonIdx;\n\n    if (eqIdx > endIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n\n    const keyStartIdx = startIndex(str, index, eqIdx);\n    const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n    const key = str.slice(keyStartIdx, keyEndIdx);\n\n    // only assign once\n    if (obj[key] === undefined) {\n      let valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n      let valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n      const value = dec(str.slice(valStartIdx, valEndIdx));\n      obj[key] = value;\n    }\n\n    index = endIdx + 1;\n  } while (index < len);\n\n  return obj;\n}\n\nfunction startIndex(str: string, index: number, max: number) {\n  do {\n    const code = str.charCodeAt(index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n  } while (++index < max);\n  return max;\n}\n\nfunction endIndex(str: string, index: number, min: number) {\n  while (index > min) {\n    const code = str.charCodeAt(--index);\n    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n  }\n  return min;\n}\n\n/**\n * Serialize options.\n */\nexport interface SerializeOptions {\n  /**\n   * Specifies a function that will be used to encode a [cookie-value](https://datatracker.ietf.org/doc/html/rfc6265#section-4.1.1).\n   * Since value of a cookie has a limited character set (and must be a simple string), this function can be used to encode\n   * a value into a string suited for a cookie's value, and should mirror `decode` when parsing.\n   *\n   * @default encodeURIComponent\n   */\n  encode?: (str: string) => string;\n  /**\n   * Specifies the `number` (in seconds) to be the value for the [`Max-Age` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.2).\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  maxAge?: number;\n  /**\n   * Specifies the `Date` object to be the value for the [`Expires` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.1).\n   * When no expiration is set clients consider this a \"non-persistent cookie\" and delete it the current session is over.\n   *\n   * The [cookie storage model specification](https://tools.ietf.org/html/rfc6265#section-5.3) states that if both `expires` and\n   * `maxAge` are set, then `maxAge` takes precedence, but it is possible not all clients by obey this,\n   * so if both are set, they should point to the same date and time.\n   */\n  expires?: Date;\n  /**\n   * Specifies the value for the [`Domain` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.3).\n   * When no domain is set clients consider the cookie to apply to the current domain only.\n   */\n  domain?: string;\n  /**\n   * Specifies the value for the [`Path` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.4).\n   * When no path is set, the path is considered the [\"default path\"](https://tools.ietf.org/html/rfc6265#section-5.1.4).\n   */\n  path?: string;\n  /**\n   * Enables the [`HttpOnly` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.6).\n   * When enabled, clients will not allow client-side JavaScript to see the cookie in `document.cookie`.\n   */\n  httpOnly?: boolean;\n  /**\n   * Enables the [`Secure` `Set-Cookie` attribute](https://tools.ietf.org/html/rfc6265#section-5.2.5).\n   * When enabled, clients will only send the cookie back if the browser has a HTTPS connection.\n   */\n  secure?: boolean;\n  /**\n   * Enables the [`Partitioned` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-cutler-httpbis-partitioned-cookies/).\n   * When enabled, clients will only send the cookie back when the current domain _and_ top-level domain matches.\n   *\n   * This is an attribute that has not yet been fully standardized, and may change in the future.\n   * This also means clients may ignore this attribute until they understand it. More information\n   * about can be found in [the proposal](https://github.com/privacycg/CHIPS).\n   */\n  partitioned?: boolean;\n  /**\n   * Specifies the value for the [`Priority` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   *\n   * - `'low'` will set the `Priority` attribute to `Low`.\n   * - `'medium'` will set the `Priority` attribute to `Medium`, the default priority when not set.\n   * - `'high'` will set the `Priority` attribute to `High`.\n   *\n   * More information about priority levels can be found in [the specification](https://tools.ietf.org/html/draft-west-cookie-priority-00#section-4.1).\n   */\n  priority?: \"low\" | \"medium\" | \"high\";\n  /**\n   * Specifies the value for the [`SameSite` `Set-Cookie` attribute](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   *\n   * - `true` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   * - `'lax'` will set the `SameSite` attribute to `Lax` for lax same site enforcement.\n   * - `'none'` will set the `SameSite` attribute to `None` for an explicit cross-site cookie.\n   * - `'strict'` will set the `SameSite` attribute to `Strict` for strict same site enforcement.\n   *\n   * More information about enforcement levels can be found in [the specification](https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7).\n   */\n  sameSite?: boolean | \"lax\" | \"strict\" | \"none\";\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize a name value pair into a cookie string suitable for\n * http headers. An optional options object specifies cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n */\nexport function serialize(\n  name: string,\n  val: string,\n  options?: SerializeOptions,\n): string {\n  const enc = options?.encode || encodeURIComponent;\n\n  if (!cookieNameRegExp.test(name)) {\n    throw new TypeError(`argument name is invalid: ${name}`);\n  }\n\n  const value = enc(val);\n\n  if (!cookieValueRegExp.test(value)) {\n    throw new TypeError(`argument val is invalid: ${val}`);\n  }\n\n  let str = name + \"=\" + value;\n  if (!options) return str;\n\n  if (options.maxAge !== undefined) {\n    if (!Number.isInteger(options.maxAge)) {\n      throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);\n    }\n\n    str += \"; Max-Age=\" + options.maxAge;\n  }\n\n  if (options.domain) {\n    if (!domainValueRegExp.test(options.domain)) {\n      throw new TypeError(`option domain is invalid: ${options.domain}`);\n    }\n\n    str += \"; Domain=\" + options.domain;\n  }\n\n  if (options.path) {\n    if (!pathValueRegExp.test(options.path)) {\n      throw new TypeError(`option path is invalid: ${options.path}`);\n    }\n\n    str += \"; Path=\" + options.path;\n  }\n\n  if (options.expires) {\n    if (\n      !isDate(options.expires) ||\n      !Number.isFinite(options.expires.valueOf())\n    ) {\n      throw new TypeError(`option expires is invalid: ${options.expires}`);\n    }\n\n    str += \"; Expires=\" + options.expires.toUTCString();\n  }\n\n  if (options.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n\n  if (options.secure) {\n    str += \"; Secure\";\n  }\n\n  if (options.partitioned) {\n    str += \"; Partitioned\";\n  }\n\n  if (options.priority) {\n    const priority =\n      typeof options.priority === \"string\"\n        ? options.priority.toLowerCase()\n        : undefined;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(`option priority is invalid: ${options.priority}`);\n    }\n  }\n\n  if (options.sameSite) {\n    const sameSite =\n      typeof options.sameSite === \"string\"\n        ? options.sameSite.toLowerCase()\n        : options.sameSite;\n    switch (sameSite) {\n      case true:\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n */\nfunction decode(str: string): string {\n  if (str.indexOf(\"%\") === -1) return str;\n\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Determine if value is a Date.\n */\nfunction isDate(val: any): val is Date {\n  return __toString.call(val) === \"[object Date]\";\n}\n", "import bcrypt from 'bcryptjs';\nimport { parse as parseCookie, serialize as serializeCookie } from 'cookie';\n\nexport const now = () => Math.floor(Date.now() / 1000);\n\nexport function jsonResponse(data: any, status = 200, headers: Record<string,string> = {}) {\n  return new Response(JSON.stringify(data), {\n    status,\n    headers: { 'Content-Type': 'application/json', ...headers },\n  });\n}\n\nexport function parseCookies(request: Request): Record<string, string> {\n  const cookie = request.headers.get('Cookie') || '';\n  const raw = parseCookie(cookie || '');\n  const out: Record<string, string> = {};\n  Object.keys(raw).forEach((k) => {\n    out[k] = raw[k] || '';\n  });\n  return out;\n}\n\nexport function setCookieHeader(name: string, value: string, opts: Record<string, any> = {}) {\n  const defaultOpts = { path: '/', httpOnly: true, sameSite: 'lax' as const, maxAge: 60 * 60 * 24 * 30 };\n  return serializeCookie(name, value, { ...defaultOpts, ...opts });\n}\n\nexport async function hashPassword(pw: string) {\n  const salt = await bcrypt.genSalt(10);\n  return bcrypt.hash(pw, salt);\n}\n\nexport async function comparePassword(pw: string, hash: string) {\n  return bcrypt.compare(pw, hash);\n}\n\nfunction base64UrlEncode(buffer: ArrayBuffer) {\n  const bytes = new Uint8Array(buffer);\n  let str = '';\n  for (let i = 0; i < bytes.length; i++) {\n    str += String.fromCharCode(bytes[i]);\n  }\n  return btoa(str).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\n\nasync function hmacSha256(secret: string, data: string) {\n  const enc = new TextEncoder();\n  const key = await crypto.subtle.importKey('raw', enc.encode(secret), { name: 'HMAC', hash: 'SHA-256' }, false, ['sign', 'verify']);\n  const sig = await crypto.subtle.sign('HMAC', key, enc.encode(data));\n  return base64UrlEncode(sig);\n}\n\nexport async function signValue(secret: string, value: string) {\n  const sig = await hmacSha256(secret, value);\n  return `${value}.${sig}`;\n}\n\nexport async function unsignValue(secret: string, signed: string) {\n  if (!signed) return null;\n  const idx = signed.lastIndexOf('.');\n  if (idx === -1) return null;\n  const value = signed.slice(0, idx);\n  const sig = signed.slice(idx + 1);\n  const expected = await hmacSha256(secret, value);\n  if (sig === expected) return value;\n  return null;\n}\n\nexport async function setSignedCookie(name: string, value: string, secret: string | undefined, opts: Record<string, any> = {}) {\n  if (!secret) return setCookieHeader(name, value, opts);\n  const signed = await signValue(secret, value);\n  return setCookieHeader(name, signed, opts);\n}\n\nexport async function getSessionFromRequest(request: Request, env: any): Promise<{ uid: string | null; role: string | null }> {\n  const cookies = parseCookies(request);\n  const secret = env?.COOKIE_SECRET || env?.COOKIE_SECRET?.toString?.();\n  if (!secret) {\n    return { uid: cookies.uid || null, role: cookies.role || null };\n  }\n  const uid = await unsignValue(secret, cookies.uid || '');\n  const role = await unsignValue(secret, cookies.role || '');\n  return { uid, role };\n}\n\nexport function requireRole(role: string | null, allowed: string[] = []) {\n  const r = role || 'Pending';\n  if (allowed.length === 0) return true;\n  return allowed.includes(r) || r === 'SuperAdmin';\n}\n\nexport function uidFromSession(uid: string | null) {\n  return uid || null;\n}\n\nexport async function ensureDatabase(env: any) {\n  if (!env?.DB) return;\n  // Create required tables if they don't exist. Run idempotent CREATE TABLE IF NOT EXISTS statements.\n  const stmts = [\n    `CREATE TABLE IF NOT EXISTS users (\n      id TEXT PRIMARY KEY,\n      email TEXT UNIQUE NOT NULL,\n      password_hash TEXT,\n      first_name TEXT,\n      last_name TEXT,\n      role TEXT NOT NULL DEFAULT 'Pending',\n      created_at INTEGER NOT NULL\n    );`,\n    `CREATE TABLE IF NOT EXISTS access_codes (\n      code TEXT PRIMARY KEY,\n      role TEXT NOT NULL,\n      active INTEGER NOT NULL DEFAULT 1\n    );`,\n    `CREATE TABLE IF NOT EXISTS announcements (\n      id TEXT PRIMARY KEY,\n      title TEXT NOT NULL,\n      body TEXT NOT NULL,\n      created_by TEXT NOT NULL,\n      created_at INTEGER NOT NULL,\n      published INTEGER NOT NULL DEFAULT 1,\n      publish_at INTEGER,\n      expires_at INTEGER\n    );`,\n    `CREATE TABLE IF NOT EXISTS messages (\n      id TEXT PRIMARY KEY,\n      user_id TEXT NOT NULL,\n      body TEXT NOT NULL,\n      created_at INTEGER NOT NULL\n    );`,\n    `CREATE TABLE IF NOT EXISTS photos (\n      id TEXT PRIMARY KEY,\n      url TEXT NOT NULL,\n      caption TEXT,\n      created_by TEXT NOT NULL,\n      created_at INTEGER NOT NULL\n    );`,\n    `CREATE TABLE IF NOT EXISTS shifts (\n      id TEXT PRIMARY KEY,\n      title TEXT NOT NULL,\n      description TEXT,\n      location TEXT,\n      start_ts INTEGER NOT NULL,\n      end_ts INTEGER,\n      capacity INTEGER NOT NULL DEFAULT 0,\n      created_by TEXT NOT NULL,\n      created_at INTEGER NOT NULL,\n      published INTEGER NOT NULL DEFAULT 1\n    );`,\n    `CREATE TABLE IF NOT EXISTS shift_signups (\n      id TEXT PRIMARY KEY,\n      shift_id TEXT NOT NULL,\n      user_id TEXT NOT NULL,\n      created_at INTEGER NOT NULL\n    );`,\n  ];\n\n  for (const s of stmts) {\n    // Make the users table creation strict so we fail fast in dev if D1 isn't available or statements error\n    if (s.includes('CREATE TABLE IF NOT EXISTS users')) {\n      try {\n        await env.DB.prepare(s).run();\n        try { console.debug && console.debug('ensureDatabase: users table created or already exists'); } catch (e) {}\n      } catch (err) {\n        try { console.error('ensureDatabase: failed creating users table', err); } catch (e) {}\n        throw err;\n      }\n    } else {\n      try {\n        // run each statement; D1 prepare/run supports single-statement execution\n        await env.DB.prepare(s).run();\n      } catch (err) {\n        // swallow non-critical errors but log for diagnostics\n        try { console.warn('ensureDatabase: stmt failed', err); } catch (e) {}\n      }\n    }\n  }\n\n  // seed access codes if table empty\n  try {\n    const row = await env.DB.prepare('SELECT COUNT(*) as cnt FROM access_codes').first();\n    const cnt = Number(row?.cnt || 0);\n    if (cnt === 0) {\n      const codes = [ ['VIEW-123','Viewer'], ['VOL-123','Volunteer'], ['INT-123','Intern'], ['ADMIN-123','Admin'] ];\n      for (const [code, role] of codes) {\n        await env.DB.prepare('INSERT OR IGNORE INTO access_codes(code, role, active) VALUES (?, ?, 1)').bind(code, role).run();\n      }\n    }\n  } catch (err) {\n    try { console.warn('ensureDatabase seed failed', err); } catch (e) {}\n  }\n\n  // Ensure announcements has scheduling columns (publish_at, expires_at)\n  try {\n    await env.DB.prepare('ALTER TABLE announcements ADD COLUMN publish_at INTEGER').run()\n  } catch (err: any) {\n    const msg = String(err?.message || '')\n    if (!msg.includes('duplicate column name')) {\n      try { console.warn('ensureDatabase: publish_at alter failed', err) } catch (e) {}\n    }\n  }\n  try {\n    await env.DB.prepare('ALTER TABLE announcements ADD COLUMN expires_at INTEGER').run()\n  } catch (err: any) {\n    const msg = String(err?.message || '')\n    if (!msg.includes('duplicate column name')) {\n      try { console.warn('ensureDatabase: expires_at alter failed', err) } catch (e) {}\n    }\n  }\n}\n\nasync function retryOnce(fn: () => Promise<any>, env: any) {\n  try {\n    return await fn();\n  } catch (err: any) {\n    const msg = String(err?.message || err || '');\n    if (msg.includes('no such table')) {\n      // try to create schema then retry\n      try {\n        await ensureDatabase(env);\n      } catch (e) {\n        // failed to ensure DB, rethrow original\n      }\n      return await fn();\n    }\n    throw err;\n  }\n}\n\nexport async function dbFirst(env: any, sql: string, ...params: any[]) {\n  return retryOnce(async () => {\n    return await env.DB.prepare(sql).bind(...params).first();\n  }, env);\n}\n\nexport async function dbAll(env: any, sql: string, ...params: any[]) {\n  return retryOnce(async () => {\n    return await env.DB.prepare(sql).bind(...params).all();\n  }, env);\n}\n\nexport async function dbRun(env: any, sql: string, ...params: any[]) {\n  return retryOnce(async () => {\n    return await env.DB.prepare(sql).bind(...params).run();\n  }, env);\n}\n", "import { jsonResponse, getSessionFromRequest, requireRole } from '../_helpers';\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  const helpers = await import('../_helpers');\n  await helpers.ensureDatabase(env);\n\n  const sess = await getSessionFromRequest(request, env);\n  if (!requireRole(sess.role, ['Admin', 'SuperAdmin'])) {\n    return jsonResponse({ ok: false, error: 'forbidden' }, 403);\n  }\n\n  const body = await request.json().catch(() => ({} as any));\n  const role = String(body.role || '').trim();\n  const rawCode = String(body.code || '').trim().toUpperCase();\n  if (!role || !rawCode) {\n    return jsonResponse({ ok: false, error: 'role and code required' }, 400);\n  }\n\n  const code = rawCode.replace(/\\s+/g, '-');\n\n  await helpers.dbRun(env, 'UPDATE access_codes SET active = 0 WHERE role = ?', role);\n  await helpers.dbRun(env, 'INSERT OR REPLACE INTO access_codes(code, role, active) VALUES (?, ?, 1)', code, role);\n\n  return jsonResponse({ ok: true, role, code });\n}\n", "import { jsonResponse, getSessionFromRequest, requireRole } from '../_helpers';\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  await import('../_helpers').then(m => m.ensureDatabase(env));\n  const sess = await getSessionFromRequest(request, env);\n  if (!requireRole(sess.role, ['Admin', 'SuperAdmin'])) return jsonResponse({ ok: false, error: 'forbidden' }, 403);\n\n  const body = await request.json().catch(() => ({} as any));\n  const { userId, role } = body;\n  if (!userId || !role) return jsonResponse({ ok: false, error: 'userId and role required' }, 400);\n\n  await import('../_helpers').then(m => m.dbRun(env, 'UPDATE users SET role = ? WHERE id = ?', role, userId));\n  return jsonResponse({ ok: true });\n}\n", "import { jsonResponse, getSessionFromRequest, requireRole } from '../_helpers';\n\nexport async function onRequestGet({ request, env }: { request: Request; env: any }) {\n  await import('../_helpers').then(m => m.ensureDatabase(env));\n  const sess = await getSessionFromRequest(request, env);\n  if (!requireRole(sess.role, ['Admin', 'SuperAdmin'])) return jsonResponse({ ok: false, error: 'forbidden' }, 403);\n\n  const rows = await import('../_helpers').then(m => m.dbAll(env, 'SELECT id, email, first_name, last_name, role, created_at FROM users ORDER BY created_at DESC'));\n  return jsonResponse({ ok: true, users: rows.results || [] });\n}\n", "import { jsonResponse, getSessionFromRequest, uidFromSession } from '../_helpers';\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  await import('../_helpers').then(m => m.ensureDatabase(env));\n  const sess = await getSessionFromRequest(request, env);\n  const uid = uidFromSession(sess.uid);\n  if (!uid) return jsonResponse({ ok: false, error: 'unauthorized' }, 401);\n\n  const body = await request.json().catch(() => ({} as any));\n  const { shiftId } = body;\n  if (!shiftId) return jsonResponse({ ok: false, error: 'shiftId required' }, 400);\n\n  // Transactional-ish: check capacity, current signups, then insert if space.\n  const shift = await import('../_helpers').then(m => m.dbFirst(env, 'SELECT capacity FROM shifts WHERE id = ?', shiftId));\n  if (!shift) return jsonResponse({ ok: false, error: 'shift not found' }, 404);\n  const capacity = Number(shift.capacity || 0);\n  const countRow = await import('../_helpers').then(m => m.dbFirst(env, 'SELECT COUNT(*) as cnt FROM shift_signups WHERE shift_id = ?', shiftId));\n  const current = Number(countRow?.cnt || 0);\n  if (capacity > 0 && current >= capacity) return jsonResponse({ ok: false, error: 'shift full' }, 400);\n\n  const id = crypto.randomUUID();\n  const created_at = Math.floor(Date.now() / 1000);\n  await import('../_helpers').then(m => m.dbRun(env, 'INSERT INTO shift_signups(id, shift_id, user_id, created_at) VALUES (?, ?, ?, ?)', id, shiftId, uid, created_at));\n  return jsonResponse({ ok: true, signup: { id, shift_id: shiftId, user_id: uid } });\n}\n", "import { jsonResponse, getSessionFromRequest, requireRole, uidFromSession, now } from './_helpers';\n\nconst toEpoch = (value: any): number | null => {\n  if (!value && value !== 0) return null\n  const num = Number(value)\n  if (!Number.isNaN(num) && num > 0) return Math.floor(num)\n  return null\n}\n\nexport async function onRequestGet({ env }: { env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const rows = await import('./_helpers').then(m => m.dbAll(env, 'SELECT * FROM announcements WHERE published = 1 ORDER BY COALESCE(publish_at, created_at) DESC'));\n  const list = (rows.results || []).map((row: any) => ({\n    id: row.id,\n    title: row.title,\n    body: row.body,\n    created_by: row.created_by,\n    created_at: Number(row.created_at),\n    publish_at: row.publish_at != null ? Number(row.publish_at) : null,\n    expires_at: row.expires_at != null ? Number(row.expires_at) : null,\n  }))\n  const nowTs = now()\n  const isActive = (item: any) => {\n    const starts = item.publish_at || item.created_at\n    const ends = item.expires_at\n    if (starts && starts > nowTs) return false\n    if (ends && ends <= nowTs) return false\n    return true\n  }\n  const active = list.filter(isActive)\n  const previous = list.filter(item => !isActive(item) && (item.publish_at || item.created_at) <= nowTs)\n  const upcoming = list.filter(item => (item.publish_at || item.created_at) > nowTs)\n  return jsonResponse({ ok: true, active, previous, upcoming })\n}\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  const helpers = await import('./_helpers')\n  await helpers.ensureDatabase(env)\n\n  const sess = await getSessionFromRequest(request, env);\n  if (!requireRole(sess.role, ['Admin', 'SuperAdmin'])) return jsonResponse({ ok: false, error: 'forbidden' }, 403);\n\n  const body = await request.json().catch(() => ({} as any));\n  const { title, body: content, published, publishAt, expiresAt } = body;\n  if (!title || !content) return jsonResponse({ ok: false, error: 'title and body required' }, 400);\n\n  const id = crypto.randomUUID();\n  const created_at = Math.floor(Date.now() / 1000);\n  const publish_at = toEpoch(publishAt) ?? created_at;\n  const expires_at = toEpoch(expiresAt);\n\n  await helpers.dbRun(env,\n    'INSERT INTO announcements(id, title, body, created_by, created_at, published, publish_at, expires_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)',\n    id,\n    title,\n    content,\n    uidFromSession(sess.uid) || 'system',\n    created_at,\n    published ? 1 : 0,\n    publish_at,\n    expires_at,\n  );\n\n  return jsonResponse({ ok: true, announcement: { id, title, body: content, publish_at, expires_at } });\n}\n", "import { jsonResponse, getSessionFromRequest, requireRole } from './_helpers';\n\nexport async function onRequestGet({ request, env }: { request: Request; env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const sess = await getSessionFromRequest(request, env);\n  if (!requireRole(sess.role, ['Admin', 'SuperAdmin'])) return jsonResponse({ ok: false, error: 'forbidden' }, 403);\n  const rows = await import('./_helpers').then(m => m.dbAll(env, 'SELECT code, role, active FROM access_codes'));\n  return jsonResponse({ ok: true, codes: rows.results || [] });\n}\n", "// functions/api/enter-code.ts\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  const helpers = await import('./_helpers');\n  await helpers.ensureDatabase(env);\n\n  const body = await request.json().catch(() => ({} as any));\n  const rawCode = typeof body.code === 'string' ? body.code : '';\n  const code = rawCode.trim().toUpperCase();\n  if (!code) {\n    return helpers.jsonResponse({ ok: false, error: 'code required' }, 400);\n  }\n\n  const session = await helpers.getSessionFromRequest(request, env);\n  const uid = helpers.uidFromSession(session.uid);\n  if (!uid) return helpers.jsonResponse({ ok: false, error: 'unauthorized' }, 401);\n\n  const row = await helpers.dbFirst(env, 'SELECT role, active FROM access_codes WHERE code = ?', code);\n  if (!row || !row.role || Number(row.active || 0) === 0) {\n    return helpers.jsonResponse({ ok: false, error: 'invalid or inactive code' }, 400);\n  }\n\n  const role = String(row.role);\n  await helpers.dbRun(env, 'UPDATE users SET role = ? WHERE id = ?', role, uid);\n\n  const updated = await helpers.dbFirst(env, 'SELECT id, email, first_name, last_name, role FROM users WHERE id = ?', uid);\n  const cookieHeader = await helpers.setSignedCookie('role', role, env?.COOKIE_SECRET, { path: '/', httpOnly: true, sameSite: 'lax', maxAge: 60 * 60 * 24 * 30 });\n\n  return helpers.jsonResponse({ ok: true, role, user: updated }, 200, { 'Set-Cookie': cookieHeader });\n}\n", "import { jsonResponse, comparePassword, setSignedCookie, getSessionFromRequest } from './_helpers';\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const body = await request.json().catch(() => ({} as any));\n  const { email, password } = body;\n  if (!email || !password) return jsonResponse({ ok: false, error: 'email and password required' }, 400);\n\n  const res = await import('./_helpers').then(m => m.dbFirst(env, 'SELECT id, password_hash, role, first_name, last_name FROM users WHERE email = ?', email));\n  if (!res || !res.id) return jsonResponse({ ok: false, error: 'invalid credentials' }, 401);\n\n  const match = res.password_hash ? await comparePassword(password, res.password_hash) : false;\n  if (!match) return jsonResponse({ ok: false, error: 'invalid credentials' }, 401);\n\n  const uid = res.id;\n  const role = res.role || 'Pending';\n  const secret = env?.COOKIE_SECRET;\n  const cookie1 = await setSignedCookie('uid', uid, secret);\n  const cookie2 = await setSignedCookie('role', role, secret);\n\n  return jsonResponse({ ok: true, user: { id: uid, email, first_name: res.first_name, last_name: res.last_name, role } }, 200, { 'Set-Cookie': [cookie1, cookie2].join(', ') });\n}\n", "import { jsonResponse, setSignedCookie } from './_helpers';\n\nexport async function onRequestPost({ env }: { env: any }) {\n  const secret = env?.COOKIE_SECRET;\n  if (secret) {\n    const c1 = await setSignedCookie('uid', '', secret, { maxAge: 0 });\n    const c2 = await setSignedCookie('role', '', secret, { maxAge: 0 });\n    return jsonResponse({ ok: true }, 200, { 'Set-Cookie': [c1, c2].join(', ') });\n  }\n  // fallback unsigned\n  const expired = (name: string) => `${name}=; Path=/; HttpOnly; Max-Age=0`;\n  return jsonResponse({ ok: true }, 200, { 'Set-Cookie': [expired('uid'), expired('role')].join(', ') });\n}\n", "// functions/api/me.ts\nimport { jsonResponse, getSessionFromRequest } from './_helpers';\n\nexport async function onRequestGet({ request, env }: { request: Request; env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const sess = await getSessionFromRequest(request, env);\n  const uid = sess.uid;\n  if (!uid) return jsonResponse({ ok: false, error: 'unauthorized' }, 401);\n\n  const row = await import('./_helpers').then(m => m.dbFirst(env, 'SELECT id, email, first_name, last_name, role, created_at FROM users WHERE id = ?', uid));\n  if (!row) return jsonResponse({ ok: false, error: 'unauthorized' }, 401);\n\n  return jsonResponse({ ok: true, user: { id: row.id, email: row.email, first_name: row.first_name, last_name: row.last_name, role: row.role, created_at: row.created_at } });\n}\n", "import { jsonResponse, getSessionFromRequest, uidFromSession } from './_helpers';\n\nexport async function onRequestGet({ env }: { env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const rows = await import('./_helpers').then(m => m.dbAll(env, 'SELECT m.id, m.body, m.created_at, m.user_id, u.first_name, u.last_name FROM messages m LEFT JOIN users u ON u.id = m.user_id ORDER BY m.created_at DESC'));\n  return jsonResponse({ ok: true, messages: rows.results || [] });\n}\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  const sess = await getSessionFromRequest(request, env);\n  const uid = uidFromSession(sess.uid);\n  if (!uid) return jsonResponse({ ok: false, error: 'unauthorized' }, 401);\n\n  const body = await request.json().catch(() => ({} as any));\n  const { text } = body;\n  if (!text) return jsonResponse({ ok: false, error: 'text required' }, 400);\n\n  const id = crypto.randomUUID();\n  const created_at = Math.floor(Date.now() / 1000);\n  await import('./_helpers').then(m => m.dbRun(env, 'INSERT INTO messages(id, user_id, body, created_at) VALUES (?, ?, ?, ?)', id, uid, text, created_at));\n  return jsonResponse({ ok: true, message: { id, user_id: uid, body: text, created_at } });\n}\n", "import { jsonResponse, getSessionFromRequest, uidFromSession } from './_helpers';\n\nexport async function onRequestGet({ env }: { env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const rows = await import('./_helpers').then(m => m.dbAll(env, 'SELECT * FROM photos ORDER BY created_at DESC'));\n  return jsonResponse({ ok: true, photos: rows.results || [] });\n}\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  const sess = await getSessionFromRequest(request, env);\n  const uid = uidFromSession(sess.uid);\n  if (!uid) return jsonResponse({ ok: false, error: 'unauthorized' }, 401);\n\n  const body = await request.json().catch(() => ({} as any));\n  const { url, caption } = body;\n  if (!url) return jsonResponse({ ok: false, error: 'url required' }, 400);\n\n  const id = crypto.randomUUID();\n  const created_at = Math.floor(Date.now() / 1000);\n  await import('./_helpers').then(m => m.dbRun(env, 'INSERT INTO photos(id, url, caption, created_by, created_at) VALUES (?, ?, ?, ?, ?)', id, url, caption || null, uid, created_at));\n  return jsonResponse({ ok: true, photo: { id, url, caption, created_by: uid, created_at } });\n}\n", "// functions/api/ping.ts\nexport async function onRequestGet() {\n  return new Response('pong')\n}\n", "import { jsonResponse, getSessionFromRequest, requireRole, uidFromSession } from './_helpers';\n\nexport async function onRequestGet({ env }: { env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const rows = await import('./_helpers').then(m => m.dbAll(env, 'SELECT * FROM shifts ORDER BY start_ts ASC'));\n  return jsonResponse({ ok: true, shifts: rows.results || [] });\n}\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  // create shift (admin)\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const sess = await getSessionFromRequest(request, env);\n  if (!requireRole(sess.role, ['Admin', 'SuperAdmin'])) return jsonResponse({ ok: false, error: 'forbidden' }, 403);\n\n  const body = await request.json().catch(() => ({} as any));\n  const { title, description, location, start_ts, end_ts, capacity } = body;\n  if (!title || !start_ts) return jsonResponse({ ok: false, error: 'title and start_ts required' }, 400);\n\n  const id = crypto.randomUUID();\n  const created_at = Math.floor(Date.now() / 1000);\n  await import('./_helpers').then(m => m.dbRun(env, 'INSERT INTO shifts(id, title, description, location, start_ts, end_ts, capacity, created_by, created_at, published) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, 1)', id, title, description || null, location || null, start_ts, end_ts || null, capacity || 0, uidFromSession(sess.uid) || 'system', created_at));\n\n  return jsonResponse({ ok: true, shift: { id, title, description, location, start_ts, end_ts, capacity } });\n}\n", "import { jsonResponse, hashPassword, setSignedCookie } from './_helpers';\n\nexport async function onRequestPost({ request, env }: { request: Request; env: any }) {\n  await import('./_helpers').then(m => m.ensureDatabase(env));\n  const body = await request.json().catch(() => ({} as any));\n  const { email, password, firstName, lastName } = body;\n  if (!email || !password) return jsonResponse({ ok: false, error: 'email and password required' }, 400);\n\n  const existing = await import('./_helpers').then(m => m.dbFirst(env, 'SELECT id FROM users WHERE email = ?', email));\n  if (existing && existing.id) return jsonResponse({ ok: false, error: 'email already in use' }, 400);\n\n  const uid = crypto.randomUUID();\n  const password_hash = await hashPassword(password);\n  const created_at = Math.floor(Date.now() / 1000);\n\n  await import('./_helpers').then(m => m.dbRun(env, 'INSERT INTO users(id, email, password_hash, first_name, last_name, role, created_at) VALUES (?, ?, ?, ?, ?, ?, ?)', uid, email, password_hash, firstName || null, lastName || null, 'Pending', created_at));\n\n  const secret = env?.COOKIE_SECRET;\n  const cookie1 = await setSignedCookie('uid', uid, secret);\n  const cookie2 = await setSignedCookie('role', 'Pending', secret);\n  return jsonResponse({ ok: true, user: { id: uid, email, first_name: firstName, last_name: lastName, role: 'Pending' } }, 200, { 'Set-Cookie': [cookie1, cookie2].join(', ') });\n}\n\n", "import { onRequestPost as __api_admin_codes_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/admin/codes.ts\"\nimport { onRequestPost as __api_admin_set_role_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/admin/set-role.ts\"\nimport { onRequestGet as __api_admin_users_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/admin/users.ts\"\nimport { onRequestPost as __api_shifts_signup_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/shifts/signup.ts\"\nimport { onRequestGet as __api_announcements_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/announcements.ts\"\nimport { onRequestPost as __api_announcements_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/announcements.ts\"\nimport { onRequestGet as __api_codes_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/codes.ts\"\nimport { onRequestPost as __api_enter_code_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/enter-code.ts\"\nimport { onRequestPost as __api_login_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/login.ts\"\nimport { onRequestPost as __api_logout_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/logout.ts\"\nimport { onRequestGet as __api_me_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/me.ts\"\nimport { onRequestGet as __api_messages_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/messages.ts\"\nimport { onRequestPost as __api_messages_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/messages.ts\"\nimport { onRequestGet as __api_photos_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/photos.ts\"\nimport { onRequestPost as __api_photos_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/photos.ts\"\nimport { onRequestGet as __api_ping_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/ping.ts\"\nimport { onRequestGet as __api_shifts_ts_onRequestGet } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/shifts.ts\"\nimport { onRequestPost as __api_shifts_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/shifts.ts\"\nimport { onRequestPost as __api_signup_ts_onRequestPost } from \"/Users/stephencarrillo/Desktop/rewild-clean/functions/api/signup.ts\"\n\nexport const routes = [\n    {\n      routePath: \"/api/admin/codes\",\n      mountPath: \"/api/admin\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_admin_codes_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/admin/set-role\",\n      mountPath: \"/api/admin\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_admin_set_role_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/admin/users\",\n      mountPath: \"/api/admin\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_admin_users_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/shifts/signup\",\n      mountPath: \"/api/shifts\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_shifts_signup_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/announcements\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_announcements_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/announcements\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_announcements_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/codes\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_codes_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/enter-code\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_enter_code_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/login\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_login_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/logout\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_logout_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/me\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_me_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/messages\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_messages_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/messages\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_messages_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/photos\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_photos_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/photos\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_photos_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/ping\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_ping_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/shifts\",\n      mountPath: \"/api\",\n      method: \"GET\",\n      middlewares: [],\n      modules: [__api_shifts_ts_onRequestGet],\n    },\n  {\n      routePath: \"/api/shifts\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_shifts_ts_onRequestPost],\n    },\n  {\n      routePath: \"/api/signup\",\n      mountPath: \"/api\",\n      method: \"POST\",\n      middlewares: [],\n      modules: [__api_signup_ts_onRequestPost],\n    },\n  ]", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/bundle-JS9iYr/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/bundle-JS9iYr/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/bundle-JS9iYr/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/pages-template-worker.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/pages-template-worker.ts\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "import { match } from \"path-to-regexp\";\n\n//note: this explicitly does not include the * character, as pages requires this\nconst escapeRegex = /[.+?^${}()|[\\]\\\\]/g;\n\ntype HTTPMethod =\n\t| \"HEAD\"\n\t| \"OPTIONS\"\n\t| \"GET\"\n\t| \"POST\"\n\t| \"PUT\"\n\t| \"PATCH\"\n\t| \"DELETE\";\n\n/* TODO: Grab these from @cloudflare/workers-types instead */\ntype Params<P extends string = string> = Record<P, string | string[]>;\n\ntype EventContext<Env, P extends string, Data> = {\n\trequest: Request;\n\tfunctionPath: string;\n\twaitUntil: (promise: Promise<unknown>) => void;\n\tpassThroughOnException: () => void;\n\tnext: (input?: Request | string, init?: RequestInit) => Promise<Response>;\n\tenv: Env & { ASSETS: { fetch: typeof fetch } };\n\tparams: Params<P>;\n\tdata: Data;\n};\n\ndeclare type PagesFunction<\n\tEnv = unknown,\n\tP extends string = string,\n\tData extends Record<string, unknown> = Record<string, unknown>,\n> = (context: EventContext<Env, P, Data>) => Response | Promise<Response>;\n/* end @cloudflare/workers-types */\n\ntype RouteHandler = {\n\troutePath: string;\n\tmountPath: string;\n\tmethod?: HTTPMethod;\n\tmodules: PagesFunction[];\n\tmiddlewares: PagesFunction[];\n};\n\n// inject `routes` via ESBuild\ndeclare const routes: RouteHandler[];\n// define `__FALLBACK_SERVICE__` via ESBuild\ndeclare const __FALLBACK_SERVICE__: string;\n\n// expect an ASSETS fetcher binding pointing to the asset-server stage\ntype FetchEnv = {\n\t[name: string]: { fetch: typeof fetch };\n\tASSETS: { fetch: typeof fetch };\n};\n\ntype WorkerContext = {\n\twaitUntil: (promise: Promise<unknown>) => void;\n\tpassThroughOnException: () => void;\n};\n\nfunction* executeRequest(request: Request) {\n\tconst requestPath = new URL(request.url).pathname;\n\n\t// First, iterate through the routes (backwards) and execute \"middlewares\" on partial route matches\n\tfor (const route of [...routes].reverse()) {\n\t\tif (route.method && route.method !== request.method) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// replaces with \"\\\\$&\", this prepends a backslash to the matched string, e.g. \"[\" becomes \"\\[\"\n\t\tconst routeMatcher = match(route.routePath.replace(escapeRegex, \"\\\\$&\"), {\n\t\t\tend: false,\n\t\t});\n\t\tconst mountMatcher = match(route.mountPath.replace(escapeRegex, \"\\\\$&\"), {\n\t\t\tend: false,\n\t\t});\n\t\tconst matchResult = routeMatcher(requestPath);\n\t\tconst mountMatchResult = mountMatcher(requestPath);\n\t\tif (matchResult && mountMatchResult) {\n\t\t\tfor (const handler of route.middlewares.flat()) {\n\t\t\t\tyield {\n\t\t\t\t\thandler,\n\t\t\t\t\tparams: matchResult.params as Params,\n\t\t\t\t\tpath: mountMatchResult.path,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\t// Then look for the first exact route match and execute its \"modules\"\n\tfor (const route of routes) {\n\t\tif (route.method && route.method !== request.method) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst routeMatcher = match(route.routePath.replace(escapeRegex, \"\\\\$&\"), {\n\t\t\tend: true,\n\t\t});\n\t\tconst mountMatcher = match(route.mountPath.replace(escapeRegex, \"\\\\$&\"), {\n\t\t\tend: false,\n\t\t});\n\t\tconst matchResult = routeMatcher(requestPath);\n\t\tconst mountMatchResult = mountMatcher(requestPath);\n\t\tif (matchResult && mountMatchResult && route.modules.length) {\n\t\t\tfor (const handler of route.modules.flat()) {\n\t\t\t\tyield {\n\t\t\t\t\thandler,\n\t\t\t\t\tparams: matchResult.params as Params,\n\t\t\t\t\tpath: matchResult.path,\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nexport default {\n\tasync fetch(\n\t\toriginalRequest: Request,\n\t\tenv: FetchEnv,\n\t\tworkerContext: WorkerContext\n\t) {\n\t\tlet request = originalRequest;\n\t\tconst handlerIterator = executeRequest(request);\n\t\tlet data = {}; // arbitrary data the user can set between functions\n\t\tlet isFailOpen = false;\n\n\t\tconst next = async (input?: RequestInfo, init?: RequestInit) => {\n\t\t\tif (input !== undefined) {\n\t\t\t\tlet url = input;\n\t\t\t\tif (typeof input === \"string\") {\n\t\t\t\t\turl = new URL(input, request.url).toString();\n\t\t\t\t}\n\t\t\t\trequest = new Request(url, init);\n\t\t\t}\n\n\t\t\tconst result = handlerIterator.next();\n\t\t\t// Note we can't use `!result.done` because this doesn't narrow to the correct type\n\t\t\tif (result.done === false) {\n\t\t\t\tconst { handler, params, path } = result.value;\n\t\t\t\tconst context = {\n\t\t\t\t\trequest: new Request(request.clone()),\n\t\t\t\t\tfunctionPath: path,\n\t\t\t\t\tnext,\n\t\t\t\t\tparams,\n\t\t\t\t\tget data() {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t},\n\t\t\t\t\tset data(value) {\n\t\t\t\t\t\tif (typeof value !== \"object\" || value === null) {\n\t\t\t\t\t\t\tthrow new Error(\"context.data must be an object\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// user has overriden context.data, so we need to merge it with the existing data\n\t\t\t\t\t\tdata = value;\n\t\t\t\t\t},\n\t\t\t\t\tenv,\n\t\t\t\t\twaitUntil: workerContext.waitUntil.bind(workerContext),\n\t\t\t\t\tpassThroughOnException: () => {\n\t\t\t\t\t\tisFailOpen = true;\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\tconst response = await handler(context);\n\n\t\t\t\tif (!(response instanceof Response)) {\n\t\t\t\t\tthrow new Error(\"Your Pages function should return a Response\");\n\t\t\t\t}\n\n\t\t\t\treturn cloneResponse(response);\n\t\t\t} else if (__FALLBACK_SERVICE__) {\n\t\t\t\t// There are no more handlers so finish with the fallback service (`env.ASSETS.fetch` in Pages' case)\n\t\t\t\tconst response = await env[__FALLBACK_SERVICE__].fetch(request);\n\t\t\t\treturn cloneResponse(response);\n\t\t\t} else {\n\t\t\t\t// There was not fallback service so actually make the request to the origin.\n\t\t\t\tconst response = await fetch(request);\n\t\t\t\treturn cloneResponse(response);\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\treturn await next();\n\t\t} catch (error) {\n\t\t\tif (isFailOpen) {\n\t\t\t\tconst response = await env[__FALLBACK_SERVICE__].fetch(request);\n\t\t\t\treturn cloneResponse(response);\n\t\t\t}\n\n\t\t\tthrow error;\n\t\t}\n\t},\n};\n\n// This makes a Response mutable\nconst cloneResponse = (response: Response) =>\n\t// https://fetch.spec.whatwg.org/#null-body-status\n\tnew Response(\n\t\t[101, 204, 205, 304].includes(response.status) ? null : response.body,\n\t\tresponse\n\t);\n", "/**\n * Tokenizer results.\n */\ninterface LexToken {\n  type:\n    | \"OPEN\"\n    | \"CLOSE\"\n    | \"PATTERN\"\n    | \"NAME\"\n    | \"CHAR\"\n    | \"ESCAPED_CHAR\"\n    | \"MODIFIER\"\n    | \"END\";\n  index: number;\n  value: string;\n}\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str: string): LexToken[] {\n  const tokens: LexToken[] = [];\n  let i = 0;\n\n  while (i < str.length) {\n    const char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \":\") {\n      let name = \"\";\n      let j = i + 1;\n\n      while (j < str.length) {\n        const code = str.charCodeAt(j);\n\n        if (\n          // `0-9`\n          (code >= 48 && code <= 57) ||\n          // `A-Z`\n          (code >= 65 && code <= 90) ||\n          // `a-z`\n          (code >= 97 && code <= 122) ||\n          // `_`\n          code === 95\n        ) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(`Missing parameter name at ${i}`);\n\n      tokens.push({ type: \"NAME\", index: i, value: name });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      let count = 1;\n      let pattern = \"\";\n      let j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(`Pattern cannot start with \"?\" at ${j}`);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(`Capturing groups are not allowed at ${j}`);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(`Unbalanced pattern at ${i}`);\n      if (!pattern) throw new TypeError(`Missing pattern at ${i}`);\n\n      tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n      i = j;\n      continue;\n    }\n\n    tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n  }\n\n  tokens.push({ type: \"END\", index: i, value: \"\" });\n\n  return tokens;\n}\n\nexport interface ParseOptions {\n  /**\n   * Set the default delimiter for repeat parameters. (default: `'/'`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters to automatically consider prefixes when parsing.\n   */\n  prefixes?: string;\n}\n\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str: string, options: ParseOptions = {}): Token[] {\n  const tokens = lexer(str);\n  const { prefixes = \"./\", delimiter = \"/#?\" } = options;\n  const result: Token[] = [];\n  let key = 0;\n  let i = 0;\n  let path = \"\";\n\n  const tryConsume = (type: LexToken[\"type\"]): string | undefined => {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  const mustConsume = (type: LexToken[\"type\"]): string => {\n    const value = tryConsume(type);\n    if (value !== undefined) return value;\n    const { type: nextType, index } = tokens[i];\n    throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);\n  };\n\n  const consumeText = (): string => {\n    let result = \"\";\n    let value: string | undefined;\n    while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n      result += value;\n    }\n    return result;\n  };\n\n  const isSafe = (value: string): boolean => {\n    for (const char of delimiter) if (value.indexOf(char) > -1) return true;\n    return false;\n  };\n\n  const safePattern = (prefix: string) => {\n    const prev = result[result.length - 1];\n    const prevText = prefix || (prev && typeof prev === \"string\" ? prev : \"\");\n\n    if (prev && !prevText) {\n      throw new TypeError(\n        `Must have text between two parameters, missing text after \"${(prev as Key).name}\"`,\n      );\n    }\n\n    if (!prevText || isSafe(prevText)) return `[^${escapeString(delimiter)}]+?`;\n    return `(?:(?!${escapeString(prevText)})[^${escapeString(delimiter)}])+?`;\n  };\n\n  while (i < tokens.length) {\n    const char = tryConsume(\"CHAR\");\n    const name = tryConsume(\"NAME\");\n    const pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      let prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix,\n        suffix: \"\",\n        pattern: pattern || safePattern(prefix),\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    const value = char || tryConsume(\"ESCAPED_CHAR\");\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    const open = tryConsume(\"OPEN\");\n    if (open) {\n      const prefix = consumeText();\n      const name = tryConsume(\"NAME\") || \"\";\n      const pattern = tryConsume(\"PATTERN\") || \"\";\n      const suffix = consumeText();\n\n      mustConsume(\"CLOSE\");\n\n      result.push({\n        name: name || (pattern ? key++ : \"\"),\n        pattern: name && !pattern ? safePattern(prefix) : pattern,\n        prefix,\n        suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n\nexport interface TokensToFunctionOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * Function for encoding input strings for output.\n   */\n  encode?: (value: string, token: Key) => string;\n  /**\n   * When `false` the function can produce an invalid (unmatched) path. (default: `true`)\n   */\n  validate?: boolean;\n}\n\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile<P extends object = object>(\n  str: string,\n  options?: ParseOptions & TokensToFunctionOptions,\n) {\n  return tokensToFunction<P>(parse(str, options), options);\n}\n\nexport type PathFunction<P extends object = object> = (data?: P) => string;\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction<P extends object = object>(\n  tokens: Token[],\n  options: TokensToFunctionOptions = {},\n): PathFunction<P> {\n  const reFlags = flags(options);\n  const { encode = (x: string) => x, validate = true } = options;\n\n  // Compile all the tokens into regexps.\n  const matches = tokens.map((token) => {\n    if (typeof token === \"object\") {\n      return new RegExp(`^(?:${token.pattern})$`, reFlags);\n    }\n  });\n\n  return (data: Record<string, any> | null | undefined) => {\n    let path = \"\";\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      const value = data ? data[token.name] : undefined;\n      const optional = token.modifier === \"?\" || token.modifier === \"*\";\n      const repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to not repeat, but got an array`,\n          );\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n\n          throw new TypeError(`Expected \"${token.name}\" to not be empty`);\n        }\n\n        for (let j = 0; j < value.length; j++) {\n          const segment = encode(value[j], token);\n\n          if (validate && !(matches[i] as RegExp).test(segment)) {\n            throw new TypeError(\n              `Expected all \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`,\n            );\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        const segment = encode(String(value), token);\n\n        if (validate && !(matches[i] as RegExp).test(segment)) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`,\n          );\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n\n      const typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(`Expected \"${token.name}\" to be ${typeOfMessage}`);\n    }\n\n    return path;\n  };\n}\n\nexport interface RegexpToFunctionOptions {\n  /**\n   * Function for decoding strings for params.\n   */\n  decode?: (value: string, token: Key) => string;\n}\n\n/**\n * A match result contains data about the path match.\n */\nexport interface MatchResult<P extends object = object> {\n  path: string;\n  index: number;\n  params: P;\n}\n\n/**\n * A match is either `false` (no match) or a match result.\n */\nexport type Match<P extends object = object> = false | MatchResult<P>;\n\n/**\n * The match function takes a string and returns whether it matched the path.\n */\nexport type MatchFunction<P extends object = object> = (\n  path: string,\n) => Match<P>;\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions,\n) {\n  const keys: Key[] = [];\n  const re = pathToRegexp(str, keys, options);\n  return regexpToFunction<P>(re, keys, options);\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction<P extends object = object>(\n  re: RegExp,\n  keys: Key[],\n  options: RegexpToFunctionOptions = {},\n): MatchFunction<P> {\n  const { decode = (x: string) => x } = options;\n\n  return function (pathname: string) {\n    const m = re.exec(pathname);\n    if (!m) return false;\n\n    const { 0: path, index } = m;\n    const params = Object.create(null);\n\n    for (let i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue;\n\n      const key = keys[i - 1];\n\n      if (key.modifier === \"*\" || key.modifier === \"+\") {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map((value) => {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    }\n\n    return { path, index, params };\n  };\n}\n\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str: string) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options?: { sensitive?: boolean }) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n\n/**\n * Metadata about a key.\n */\nexport interface Key {\n  name: string | number;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n}\n\n/**\n * A token is a string (nothing special) or key metadata (capture group).\n */\nexport type Token = string | Key;\n\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path: RegExp, keys?: Key[]): RegExp {\n  if (!keys) return path;\n\n  const groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n\n  let index = 0;\n  let execResult = groupsRegex.exec(path.source);\n  while (execResult) {\n    keys.push({\n      // Use parenthesized substring match if available, index otherwise\n      name: execResult[1] || index++,\n      prefix: \"\",\n      suffix: \"\",\n      modifier: \"\",\n      pattern: \"\",\n    });\n    execResult = groupsRegex.exec(path.source);\n  }\n\n  return path;\n}\n\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(\n  paths: Array<string | RegExp>,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions,\n): RegExp {\n  const parts = paths.map((path) => pathToRegexp(path, keys, options).source);\n  return new RegExp(`(?:${parts.join(\"|\")})`, flags(options));\n}\n\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(\n  path: string,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions,\n) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport interface TokensToRegexpOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * When `true` the regexp won't allow an optional trailing delimiter to match. (default: `false`)\n   */\n  strict?: boolean;\n  /**\n   * When `true` the regexp will match to the end of the string. (default: `true`)\n   */\n  end?: boolean;\n  /**\n   * When `true` the regexp will match from the beginning of the string. (default: `true`)\n   */\n  start?: boolean;\n  /**\n   * Sets the final character for non-ending optimistic matches. (default: `/`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters that can also be \"end\" characters.\n   */\n  endsWith?: string;\n  /**\n   * Encode path tokens for use in the `RegExp`.\n   */\n  encode?: (value: string) => string;\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(\n  tokens: Token[],\n  keys?: Key[],\n  options: TokensToRegexpOptions = {},\n) {\n  const {\n    strict = false,\n    start = true,\n    end = true,\n    encode = (x: string) => x,\n    delimiter = \"/#?\",\n    endsWith = \"\",\n  } = options;\n  const endsWithRe = `[${escapeString(endsWith)}]|$`;\n  const delimiterRe = `[${escapeString(delimiter)}]`;\n  let route = start ? \"^\" : \"\";\n\n  // Iterate over the tokens and create our regexp string.\n  for (const token of tokens) {\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      const prefix = escapeString(encode(token.prefix));\n      const suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            const mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;\n          } else {\n            route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;\n          }\n        } else {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            throw new TypeError(\n              `Can not repeat \"${token.name}\" without a prefix and suffix`,\n            );\n          }\n\n          route += `(${token.pattern})${token.modifier}`;\n        }\n      } else {\n        route += `(?:${prefix}${suffix})${token.modifier}`;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += `${delimiterRe}?`;\n\n    route += !options.endsWith ? \"$\" : `(?=${endsWithRe})`;\n  } else {\n    const endToken = tokens[tokens.length - 1];\n    const isEndDelimited =\n      typeof endToken === \"string\"\n        ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n        : endToken === undefined;\n\n    if (!strict) {\n      route += `(?:${delimiterRe}(?=${endsWithRe}))?`;\n    }\n\n    if (!isEndDelimited) {\n      route += `(?=${delimiterRe}|${endsWithRe})`;\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n\n/**\n * Supported `path-to-regexp` input types.\n */\nexport type Path = string | RegExp | Array<string | RegExp>;\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(\n  path: Path,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions,\n) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/pages-MWKW6Z/functionsWorker-0.3024896438781317.mjs\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/pages-MWKW6Z/functionsWorker-0.3024896438781317.mjs\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/bundle-pW6QxB/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/stephencarrillo/Desktop/rewild-clean/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/bundle-pW6QxB/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/stephencarrillo/Desktop/rewild-clean/.wrangler/tmp/bundle-pW6QxB/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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AY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;MAAY;MAAY;MAC5D;MAAY;MAAY;MAAY;IACtC;AAOI,aAAS;MACX;MAAY;MAAY;MAAY;MAAY;MAAY;IAC9D;AAUS,IAAAA,QAAA,WAAA,WAAA;AA6HA,IAAAA,QAAA,eAAA,eAAA;AAaA,IAAAA,QAAA,MAAA,MAAA;AAwBA,IAAAA,QAAA,SAAA,SAAA;AA0CA,IAAAA,QAAA,QAAA,QAAA;AA6FA,IAAAA,QAAA,OAAA,OAAA;AAgGO,IAAAA,QAAA,cAAA,cAAA;AAWA,IAAAA,QAAA,cAAA,cAAA;AAIT,uBAAQ;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF;EAAA;AAAA,CAAA;;;;;;;ACviCA,YAAA,QAAAM;AAsJA,YAAA,YAAA;AAzOA,QAAM,mBAAmB;AAczB,QAAM,oBAAoB;AAyB1B,QAAM,oBACJ;AASF,QAAM,kBAAkB;AAExB,QAAM,aAAa,OAAO,UAAU;AAEpC,QAAM,aAA8B,uBAAK;AACvC,YAAM,IAAI,gBAAAN,QAAA,WAAA;MAAa,GAAb,GAAA;AACV,QAAE,YAAY,uBAAO,OAAO,IAAI;AAChC,aAAO;IACT,GAAE;AA0BF,aAAgBM,OACd,KACA,SAAsB;AAEtB,YAAM,MAA0C,IAAI,WAAU;AAC9D,YAAM,MAAM,IAAI;AAEhB,UAAI,MAAM;AAAG,eAAO;AAEpB,YAAM,MAAM,SAAS,UAAU;AAC/B,UAAI,QAAQ;AAEZ,SAAG;AACD,cAAM,QAAQ,IAAI,QAAQ,KAAK,KAAK;AACpC,YAAI,UAAU;AAAI;AAElB,cAAM,WAAW,IAAI,QAAQ,KAAK,KAAK;AACvC,cAAM,SAAS,aAAa,KAAK,MAAM;AAEvC,YAAI,QAAQ,QAAQ;AAElB,kBAAQ,IAAI,YAAY,KAAK,QAAQ,CAAC,IAAI;AAC1C;QACF;AAEA,cAAM,cAAc,WAAW,KAAK,OAAO,KAAK;AAChD,cAAM,YAAY,SAAS,KAAK,OAAO,WAAW;AAClD,cAAM,MAAM,IAAI,MAAM,aAAa,SAAS;AAG5C,YAAI,IAAI,GAAG,MAAM,QAAW;AAC1B,cAAI,cAAc,WAAW,KAAK,QAAQ,GAAG,MAAM;AACnD,cAAI,YAAY,SAAS,KAAK,QAAQ,WAAW;AAEjD,gBAAM,QAAQ,IAAI,IAAI,MAAM,aAAa,SAAS,CAAC;AACnD,cAAI,GAAG,IAAI;QACb;AAEA,gBAAQ,SAAS;MACnB,SAAS,QAAQ;AAEjB,aAAO;IACT;AA1CgBA;AAAA,IAAAN,QAAAM,QAAA,OAAA;AA4ChB,aAAS,WAAW,KAAa,OAAe,KAAW;AACzD,SAAG;AACD,cAAM,OAAO,IAAI,WAAW,KAAK;AACjC,YAAI,SAAS,MAAgB,SAAS;AAAe,iBAAO;MAC9D,SAAS,EAAE,QAAQ;AACnB,aAAO;IACT;AANS;AAAA,IAAAN,QAAA,YAAA,YAAA;AAQT,aAAS,SAAS,KAAa,OAAe,KAAW;AACvD,aAAO,QAAQ,KAAK;AAClB,cAAM,OAAO,IAAI,WAAW,EAAE,KAAK;AACnC,YAAI,SAAS,MAAgB,SAAS;AAAe,iBAAO,QAAQ;MACtE;AACA,aAAO;IACT;AANS;AAAA,IAAAA,QAAA,UAAA,UAAA;AAkGT,aAAgB,UACd,MACA,KACA,SAA0B;AAE1B,YAAM,MAAM,SAAS,UAAU;AAE/B,UAAI,CAAC,iBAAiB,KAAK,IAAI,GAAG;AAChC,cAAM,IAAI,UAAU,6BAA6B,IAAI,EAAE;MACzD;AAEA,YAAM,QAAQ,IAAI,GAAG;AAErB,UAAI,CAAC,kBAAkB,KAAK,KAAK,GAAG;AAClC,cAAM,IAAI,UAAU,4BAA4B,GAAG,EAAE;MACvD;AAEA,UAAI,MAAM,OAAO,MAAM;AACvB,UAAI,CAAC;AAAS,eAAO;AAErB,UAAI,QAAQ,WAAW,QAAW;AAChC,YAAI,CAAC,OAAO,UAAU,QAAQ,MAAM,GAAG;AACrC,gBAAM,IAAI,UAAU,6BAA6B,QAAQ,MAAM,EAAE;QACnE;AAEA,eAAO,eAAe,QAAQ;MAChC;AAEA,UAAI,QAAQ,QAAQ;AAClB,YAAI,CAAC,kBAAkB,KAAK,QAAQ,MAAM,GAAG;AAC3C,gBAAM,IAAI,UAAU,6BAA6B,QAAQ,MAAM,EAAE;QACnE;AAEA,eAAO,cAAc,QAAQ;MAC/B;AAEA,UAAI,QAAQ,MAAM;AAChB,YAAI,CAAC,gBAAgB,KAAK,QAAQ,IAAI,GAAG;AACvC,gBAAM,IAAI,UAAU,2BAA2B,QAAQ,IAAI,EAAE;QAC/D;AAEA,eAAO,YAAY,QAAQ;MAC7B;AAEA,UAAI,QAAQ,SAAS;AACnB,YACE,CAAC,OAAO,QAAQ,OAAO,KACvB,CAAC,OAAO,SAAS,QAAQ,QAAQ,QAAO,CAAE,GAC1C;AACA,gBAAM,IAAI,UAAU,8BAA8B,QAAQ,OAAO,EAAE;QACrE;AAEA,eAAO,eAAe,QAAQ,QAAQ,YAAW;MACnD;AAEA,UAAI,QAAQ,UAAU;AACpB,eAAO;MACT;AAEA,UAAI,QAAQ,QAAQ;AAClB,eAAO;MACT;AAEA,UAAI,QAAQ,aAAa;AACvB,eAAO;MACT;AAEA,UAAI,QAAQ,UAAU;AACpB,cAAM,WACJ,OAAO,QAAQ,aAAa,WACxB,QAAQ,SAAS,YAAW,IAC5B;AACN,gBAAQ,UAAU;UAChB,KAAK;AACH,mBAAO;AACP;UACF,KAAK;AACH,mBAAO;AACP;UACF,KAAK;AACH,mBAAO;AACP;UACF;AACE,kBAAM,IAAI,UAAU,+BAA+B,QAAQ,QAAQ,EAAE;QACzE;MACF;AAEA,UAAI,QAAQ,UAAU;AACpB,cAAM,WACJ,OAAO,QAAQ,aAAa,WACxB,QAAQ,SAAS,YAAW,IAC5B,QAAQ;AACd,gBAAQ,UAAU;UAChB,KAAK;UACL,KAAK;AACH,mBAAO;AACP;UACF,KAAK;AACH,mBAAO;AACP;UACF,KAAK;AACH,mBAAO;AACP;UACF;AACE,kBAAM,IAAI,UAAU,+BAA+B,QAAQ,QAAQ,EAAE;QACzE;MACF;AAEA,aAAO;IACT;AA7GgB;AAAA,IAAAA,QAAA,WAAA,WAAA;AAkHhB,aAAS,OAAO,KAAW;AACzB,UAAI,IAAI,QAAQ,GAAG,MAAM;AAAI,eAAO;AAEpC,UAAI;AACF,eAAO,mBAAmB,GAAG;MAC/B,SAAS,GAAG;AACV,eAAO;MACT;IACF;AARS;AAAA,IAAAA,QAAA,QAAA,QAAA;AAaT,aAAS,OAAO,KAAQ;AACtB,aAAO,WAAW,KAAK,GAAG,MAAM;IAClC;AAFS;AAAA,IAAAA,QAAA,QAAA,QAAA;;;ACtXT,IAAA,kBAAA,CAAA;AAAA,SAAA,iBAAA;EAAA,iBAAA,6BAAA,iBAAA;EAAA,OAAA,6BAAA,OAAA;EAAA,SAAA,6BAAA,SAAA;EAAA,OAAA,6BAAA,OAAA;EAAA,gBAAA,6BAAA,gBAAA;EAAA,uBAAA,6BAAA,uBAAA;EAAA,cAAA,6BAAA,cAAA;EAAA,cAAA,6BAAA,cAAA;EAAA,KAAA,6BAAA,KAAA;EAAA,cAAA,6BAAA,cAAA;EAAA,aAAA,6BAAA,aAAA;EAAA,iBAAA,6BAAA,iBAAA;EAAA,iBAAA,6BAAA,iBAAA;EAAA,WAAA,6BAAA,WAAA;EAAA,gBAAA,6BAAA,gBAAA;EAAA,aAAA,6BAAA,aAAA;AAAA,CAAA;AAKO,SAAS,aAAa,MAAW,SAAS,KAAK,UAAiC,CAAC,GAAG;AACzF,SAAO,IAAI,SAAS,KAAK,UAAU,IAAI,GAAG;IACxC;IACA,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,QAAQ;EAC5D,CAAC;AACH;AALgB;AAOT,SAAS,aAAa,SAA0C;AACrE,QAAM,SAAS,QAAQ,QAAQ,IAAI,QAAQ,KAAK;AAChD,QAAM,OAAA,GAAM,cAAAO,OAAY,UAAU,EAAE;AACpC,QAAM,MAA8B,CAAC;AACrC,SAAO,KAAK,GAAG,EAAE,QAAQ,CAAC,MAAM;AAC9B,QAAI,CAAC,IAAI,IAAI,CAAC,KAAK;EACrB,CAAC;AACD,SAAO;AACT;AARgB;AAUT,SAAS,gBAAgB,MAAc,OAAe,OAA4B,CAAC,GAAG;AAC3F,QAAM,cAAc,EAAE,MAAM,KAAK,UAAU,MAAM,UAAU,OAAgB,QAAQ,KAAK,KAAK,KAAK,GAAG;AACrG,UAAA,GAAO,cAAAC,WAAgB,MAAM,OAAO,EAAE,GAAG,aAAa,GAAG,KAAK,CAAC;AACjE;AAHgB;AAKhB,eAAsB,aAAa,IAAY;AAC7C,QAAM,OAAO,MAAM,iBAAO,QAAQ,EAAE;AACpC,SAAO,iBAAO,KAAK,IAAI,IAAI;AAC7B;AAHsB;AAKtB,eAAsB,gBAAgB,IAAYJ,OAAc;AAC9D,SAAO,iBAAO,QAAQ,IAAIA,KAAI;AAChC;AAFsB;AAItB,SAAS,gBAAgB,QAAqB;AAC5C,QAAM,QAAQ,IAAI,WAAW,MAAM;AACnC,MAAI,MAAM;AACV,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,WAAO,OAAO,aAAa,MAAM,CAAC,CAAC;EACrC;AACA,SAAO,KAAK,GAAG,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,EAAE;AAC5E;AAPS;AAST,eAAe,WAAW,QAAgB,MAAc;AACtD,QAAM,MAAM,IAAI,YAAY;AAC5B,QAAM,MAAM,MAAM,OAAO,OAAO,UAAU,OAAO,IAAI,OAAO,MAAM,GAAG,EAAE,MAAM,QAAQ,MAAM,UAAU,GAAG,OAAO,CAAC,QAAQ,QAAQ,CAAC;AACjI,QAAM,MAAM,MAAM,OAAO,OAAO,KAAK,QAAQ,KAAK,IAAI,OAAO,IAAI,CAAC;AAClE,SAAO,gBAAgB,GAAG;AAC5B;AALe;AAOf,eAAsB,UAAU,QAAgB,OAAe;AAC7D,QAAM,MAAM,MAAM,WAAW,QAAQ,KAAK;AAC1C,SAAO,GAAG,KAAK,IAAI,GAAG;AACxB;AAHsB;AAKtB,eAAsB,YAAY,QAAgB,QAAgB;AAChE,MAAI,CAAC,OAAQ,QAAO;AACpB,QAAM,MAAM,OAAO,YAAY,GAAG;AAClC,MAAI,QAAQ,GAAI,QAAO;AACvB,QAAM,QAAQ,OAAO,MAAM,GAAG,GAAG;AACjC,QAAM,MAAM,OAAO,MAAM,MAAM,CAAC;AAChC,QAAM,WAAW,MAAM,WAAW,QAAQ,KAAK;AAC/C,MAAI,QAAQ,SAAU,QAAO;AAC7B,SAAO;AACT;AATsB;AAWtB,eAAsB,gBAAgB,MAAc,OAAe,QAA4B,OAA4B,CAAC,GAAG;AAC7H,MAAI,CAAC,OAAQ,QAAO,gBAAgB,MAAM,OAAO,IAAI;AACrD,QAAM,SAAS,MAAM,UAAU,QAAQ,KAAK;AAC5C,SAAO,gBAAgB,MAAM,QAAQ,IAAI;AAC3C;AAJsB;AAMtB,eAAsB,sBAAsB,SAAkB,KAAgE;AAC5H,QAAM,UAAU,aAAa,OAAO;AACpC,QAAM,SAAS,KAAK,iBAAiB,KAAK,eAAe,WAAW;AACpE,MAAI,CAAC,QAAQ;AACX,WAAO,EAAE,KAAK,QAAQ,OAAO,MAAM,MAAM,QAAQ,QAAQ,KAAK;EAChE;AACA,QAAM,MAAM,MAAM,YAAY,QAAQ,QAAQ,OAAO,EAAE;AACvD,QAAM,OAAO,MAAM,YAAY,QAAQ,QAAQ,QAAQ,EAAE;AACzD,SAAO,EAAE,KAAK,KAAK;AACrB;AATsB;AAWf,SAAS,YAAY,MAAqB,UAAoB,CAAC,GAAG;AACvE,QAAM,IAAI,QAAQ;AAClB,MAAI,QAAQ,WAAW,EAAG,QAAO;AACjC,SAAO,QAAQ,SAAS,CAAC,KAAK,MAAM;AACtC;AAJgB;AAMT,SAAS,eAAe,KAAoB;AACjD,SAAO,OAAO;AAChB;AAFgB;AAIhB,eAAsB,eAAe,KAAU;AAC7C,MAAI,CAAC,KAAK,GAAI;AAEd,QAAM,QAAQ;IACZ;;;;;;;;;IASA;;;;;IAKA;;;;;;;;;;IAUA;;;;;;IAMA;;;;;;;IAOA;;;;;;;;;;;;IAYA;;;;;;EAMF;AAEA,aAAW,KAAK,OAAO;AAErB,QAAI,EAAE,SAAS,kCAAkC,GAAG;AAClD,UAAI;AACF,cAAM,IAAI,GAAG,QAAQ,CAAC,EAAE,IAAI;AAC5B,YAAI;AAAE,kBAAQ,SAAS,QAAQ,MAAM,uDAAuD;QAAG,SAAS,GAAG;QAAC;MAC9G,SAAS,KAAK;AACZ,YAAI;AAAE,kBAAQ,MAAM,+CAA+C,GAAG;QAAG,SAAS,GAAG;QAAC;AACtF,cAAM;MACR;IACF,OAAO;AACL,UAAI;AAEF,cAAM,IAAI,GAAG,QAAQ,CAAC,EAAE,IAAI;MAC9B,SAAS,KAAK;AAEZ,YAAI;AAAE,kBAAQ,KAAK,+BAA+B,GAAG;QAAG,SAAS,GAAG;QAAC;MACvE;IACF;EACF;AAGA,MAAI;AACF,UAAM,MAAM,MAAM,IAAI,GAAG,QAAQ,0CAA0C,EAAE,MAAM;AACnF,UAAM,MAAM,OAAO,KAAK,OAAO,CAAC;AAChC,QAAI,QAAQ,GAAG;AACb,YAAM,QAAQ,CAAE,CAAC,YAAW,QAAQ,GAAG,CAAC,WAAU,WAAW,GAAG,CAAC,WAAU,QAAQ,GAAG,CAAC,aAAY,OAAO,CAAE;AAC5G,iBAAW,CAAC,MAAM,IAAI,KAAK,OAAO;AAChC,cAAM,IAAI,GAAG,QAAQ,yEAAyE,EAAE,KAAK,MAAM,IAAI,EAAE,IAAI;MACvH;IACF;EACF,SAAS,KAAK;AACZ,QAAI;AAAE,cAAQ,KAAK,8BAA8B,GAAG;IAAG,SAAS,GAAG;IAAC;EACtE;AAGA,MAAI;AACF,UAAM,IAAI,GAAG,QAAQ,yDAAyD,EAAE,IAAI;EACtF,SAAS,KAAU;AACjB,UAAM,MAAM,OAAO,KAAK,WAAW,EAAE;AACrC,QAAI,CAAC,IAAI,SAAS,uBAAuB,GAAG;AAC1C,UAAI;AAAE,gBAAQ,KAAK,2CAA2C,GAAG;MAAE,SAAS,GAAG;MAAC;IAClF;EACF;AACA,MAAI;AACF,UAAM,IAAI,GAAG,QAAQ,yDAAyD,EAAE,IAAI;EACtF,SAAS,KAAU;AACjB,UAAM,MAAM,OAAO,KAAK,WAAW,EAAE;AACrC,QAAI,CAAC,IAAI,SAAS,uBAAuB,GAAG;AAC1C,UAAI;AAAE,gBAAQ,KAAK,2CAA2C,GAAG;MAAE,SAAS,GAAG;MAAC;IAClF;EACF;AACF;AAjHsB;AAmHtB,eAAe,UAAU,IAAwB,KAAU;AACzD,MAAI;AACF,WAAO,MAAM,GAAG;EAClB,SAAS,KAAU;AACjB,UAAM,MAAM,OAAO,KAAK,WAAW,OAAO,EAAE;AAC5C,QAAI,IAAI,SAAS,eAAe,GAAG;AAEjC,UAAI;AACF,cAAM,eAAe,GAAG;MAC1B,SAAS,GAAG;MAEZ;AACA,aAAO,MAAM,GAAG;IAClB;AACA,UAAM;EACR;AACF;AAhBe;AAkBf,eAAsB,QAAQ,KAAU,QAAgB,QAAe;AACrE,SAAO,UAAU,YAAY;AAC3B,WAAO,MAAM,IAAI,GAAG,QAAQ,GAAG,EAAE,KAAK,GAAG,MAAM,EAAE,MAAM;EACzD,GAAG,GAAG;AACR;AAJsB;AAMtB,eAAsB,MAAM,KAAU,QAAgB,QAAe;AACnE,SAAO,UAAU,YAAY;AAC3B,WAAO,MAAM,IAAI,GAAG,QAAQ,GAAG,EAAE,KAAK,GAAG,MAAM,EAAE,IAAI;EACvD,GAAG,GAAG;AACR;AAJsB;AAMtB,eAAsB,MAAM,KAAU,QAAgB,QAAe;AACnE,SAAO,UAAU,YAAY;AAC3B,WAAO,MAAM,IAAI,GAAG,QAAQ,GAAG,EAAE,KAAK,GAAG,MAAM,EAAE,IAAI;EACvD,GAAG,GAAG;AACR;AAJsB;AAhPtB,IACA;AADA,IAGa;AAHb,IAAA,eAAA,MAAA;EAAA,oBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,kBAAA;AACA,oBAAmE,QAAA,aAAA,GAAA,CAAA;AAEtD,UAAM,gBAAAJ,QAAA,MAAM,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI,GAAlC,KAAA;AAEH,IAAAA,QAAA,cAAA,cAAA;AAOA,IAAAA,QAAA,cAAA,cAAA;AAUA,IAAAA,QAAA,iBAAA,iBAAA;AAKM,IAAAA,QAAA,cAAA,cAAA;AAKA,IAAAA,QAAA,iBAAA,iBAAA;AAIb,IAAAA,QAAA,iBAAA,iBAAA;AASM,IAAAA,QAAA,YAAA,YAAA;AAOO,IAAAA,QAAA,WAAA,WAAA;AAKA,IAAAA,QAAA,aAAA,aAAA;AAWA,IAAAA,QAAA,iBAAA,iBAAA;AAMA,IAAAA,QAAA,uBAAA,uBAAA;AAWN,IAAAA,QAAA,aAAA,aAAA;AAMA,IAAAA,QAAA,gBAAA,gBAAA;AAIM,IAAAA,QAAA,gBAAA,gBAAA;AAmHP,IAAAA,QAAA,WAAA,WAAA;AAkBO,IAAAA,QAAA,SAAA,SAAA;AAMA,IAAAA,QAAA,OAAA,OAAA;AAMA,IAAAA,QAAA,OAAA,OAAA;EAAA;AAAA,CAAA;AC9OtB,eAAsB,cAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,UAAU,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA;AACtB,QAAM,QAAQ,eAAe,GAAG;AAEhC,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,MAAI,CAAC,YAAY,KAAK,MAAM,CAAC,SAAS,YAAY,CAAC,GAAG;AACpD,WAAO,aAAa,EAAE,IAAI,OAAO,OAAO,YAAY,GAAG,GAAG;EAC5D;AAEA,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,OAAO,OAAO,KAAK,QAAQ,EAAE,EAAE,KAAK;AAC1C,QAAM,UAAU,OAAO,KAAK,QAAQ,EAAE,EAAE,KAAK,EAAE,YAAY;AAC3D,MAAI,CAAC,QAAQ,CAAC,SAAS;AACrB,WAAO,aAAa,EAAE,IAAI,OAAO,OAAO,yBAAyB,GAAG,GAAG;EACzE;AAEA,QAAM,OAAO,QAAQ,QAAQ,QAAQ,GAAG;AAExC,QAAM,QAAQ,MAAM,KAAK,qDAAqD,IAAI;AAClF,QAAM,QAAQ,MAAM,KAAK,4EAA4E,MAAM,IAAI;AAE/G,SAAO,aAAa,EAAE,IAAI,MAAM,MAAM,KAAK,CAAC;AAC9C;AAtBsB;AAFtB,IAAA,aAAA,MAAA;EAAA,uBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAA,QAAA,eAAA,eAAA;EAAA;AAAA,CAAA;ACAtB,eAAsBS,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC3D,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,MAAI,CAAC,YAAY,KAAK,MAAM,CAAC,SAAS,YAAY,CAAC,EAAG,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,YAAY,GAAG,GAAG;AAEhH,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,QAAQ,KAAK,IAAI;AACzB,MAAI,CAAC,UAAU,CAAC,KAAM,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,2BAA2B,GAAG,GAAG;AAE/F,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,0CAA0C,MAAM,MAAM,CAAC;AAC1G,SAAO,aAAa,EAAE,IAAI,KAAK,CAAC;AAClC;AAXsBA;AAFtB,IAAA,gBAAA,MAAA;EAAA,0BAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACAtB,eAAsB,aAAa,EAAE,SAAS,IAAI,GAAmC;AACnF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC3D,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,MAAI,CAAC,YAAY,KAAK,MAAM,CAAC,SAAS,YAAY,CAAC,EAAG,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,YAAY,GAAG,GAAG;AAEhH,QAAM,OAAO,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,+FAA+F,CAAC;AAChK,SAAO,aAAa,EAAE,IAAI,MAAM,OAAO,KAAK,WAAW,CAAC,EAAE,CAAC;AAC7D;AAPsB;AAFtB,IAAA,aAAA,MAAA;EAAA,uBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAA,cAAA,cAAA;EAAA;AAAA,CAAA;ACAtB,eAAsBS,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC3D,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,QAAM,MAAM,eAAe,KAAK,GAAG;AACnC,MAAI,CAAC,IAAK,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAEvE,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,QAAQ,IAAI;AACpB,MAAI,CAAC,QAAS,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,mBAAmB,GAAG,GAAG;AAG/E,QAAM,QAAQ,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,QAAQ,KAAK,4CAA4C,OAAO,CAAC;AACvH,MAAI,CAAC,MAAO,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,kBAAkB,GAAG,GAAG;AAC5E,QAAM,WAAW,OAAO,MAAM,YAAY,CAAC;AAC3C,QAAM,WAAW,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,QAAQ,KAAK,gEAAgE,OAAO,CAAC;AAC9I,QAAM,UAAU,OAAO,UAAU,OAAO,CAAC;AACzC,MAAI,WAAW,KAAK,WAAW,SAAU,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,aAAa,GAAG,GAAG;AAEpG,QAAM,KAAK,OAAO,WAAW;AAC7B,QAAM,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAC/C,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAsB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,oFAAoF,IAAI,SAAS,KAAK,UAAU,CAAC;AACpK,SAAO,aAAa,EAAE,IAAI,MAAM,QAAQ,EAAE,IAAI,UAAU,SAAS,SAAS,IAAI,EAAE,CAAC;AACnF;AAtBsBA;AAFtB,IAAA,cAAA,MAAA;EAAA,yBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACOtB,eAAsBC,cAAa,EAAE,IAAI,GAAiB;AACxD,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,gGAAgG,CAAC;AAChK,QAAM,QAAQ,KAAK,WAAW,CAAC,GAAG,IAAI,CAAC,SAAc;IACnD,IAAI,IAAI;IACR,OAAO,IAAI;IACX,MAAM,IAAI;IACV,YAAY,IAAI;IAChB,YAAY,OAAO,IAAI,UAAU;IACjC,YAAY,IAAI,cAAc,OAAO,OAAO,IAAI,UAAU,IAAI;IAC9D,YAAY,IAAI,cAAc,OAAO,OAAO,IAAI,UAAU,IAAI;EAChE,EAAE;AACF,QAAM,QAAQ,IAAI;AAClB,QAAM,WAAW,gBAAAV,QAAA,CAAC,SAAc;AAC9B,UAAM,SAAS,KAAK,cAAc,KAAK;AACvC,UAAM,OAAO,KAAK;AAClB,QAAI,UAAU,SAAS,MAAO,QAAO;AACrC,QAAI,QAAQ,QAAQ,MAAO,QAAO;AAClC,WAAO;EACT,GANiB,UAAA;AAOjB,QAAM,SAAS,KAAK,OAAO,QAAQ;AACnC,QAAM,WAAW,KAAK,OAAO,CAAA,SAAQ,CAAC,SAAS,IAAI,MAAM,KAAK,cAAc,KAAK,eAAe,KAAK;AACrG,QAAM,WAAW,KAAK,OAAO,CAAA,UAAS,KAAK,cAAc,KAAK,cAAc,KAAK;AACjF,SAAO,aAAa,EAAE,IAAI,MAAM,QAAQ,UAAU,SAAS,CAAC;AAC9D;AAxBsBU;AA0BtB,eAAsBD,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,UAAU,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA;AACtB,QAAM,QAAQ,eAAe,GAAG;AAEhC,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,MAAI,CAAC,YAAY,KAAK,MAAM,CAAC,SAAS,YAAY,CAAC,EAAG,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,YAAY,GAAG,GAAG;AAEhH,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,OAAO,MAAM,SAAS,WAAW,WAAW,UAAU,IAAI;AAClE,MAAI,CAAC,SAAS,CAAC,QAAS,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,0BAA0B,GAAG,GAAG;AAEhG,QAAM,KAAK,OAAO,WAAW;AAC7B,QAAM,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAC/C,QAAM,aAAa,QAAQ,SAAS,KAAK;AACzC,QAAM,aAAa,QAAQ,SAAS;AAEpC,QAAM,QAAQ;IAAM;IAClB;IACA;IACA;IACA;IACA,eAAe,KAAK,GAAG,KAAK;IAC5B;IACA,YAAY,IAAI;IAChB;IACA;EACF;AAEA,SAAO,aAAa,EAAE,IAAI,MAAM,cAAc,EAAE,IAAI,OAAO,MAAM,SAAS,YAAY,WAAW,EAAE,CAAC;AACtG;AA7BsBA;AAnCtB,IAEM;AAFN,IAAA,qBAAA,MAAA;EAAA,yBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEM,cAAU,gBAAAT,QAAA,CAAC,UAA8B;AAC7C,UAAI,CAAC,SAAS,UAAU,EAAG,QAAO;AAClC,YAAM,MAAM,OAAO,KAAK;AACxB,UAAI,CAAC,OAAO,MAAM,GAAG,KAAK,MAAM,EAAG,QAAO,KAAK,MAAM,GAAG;AACxD,aAAO;IACT,GALgB,SAAA;AAOM,IAAAA,QAAAU,eAAA,cAAA;AA0BA,IAAAV,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACjCtB,eAAsBC,cAAa,EAAE,SAAS,IAAI,GAAmC;AACnF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,MAAI,CAAC,YAAY,KAAK,MAAM,CAAC,SAAS,YAAY,CAAC,EAAG,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,YAAY,GAAG,GAAG;AAChH,QAAM,OAAO,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,6CAA6C,CAAC;AAC7G,SAAO,aAAa,EAAE,IAAI,MAAM,OAAO,KAAK,WAAW,CAAC,EAAE,CAAC;AAC7D;AANsBA;AAFtB,IAAAC,cAAA,MAAA;EAAA,iBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAX,QAAAU,eAAA,cAAA;EAAA;AAAA,CAAA;ACDtB,eAAsBD,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,UAAU,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA;AACtB,QAAM,QAAQ,eAAe,GAAG;AAEhC,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,UAAU,OAAO,KAAK,SAAS,WAAW,KAAK,OAAO;AAC5D,QAAM,OAAO,QAAQ,KAAK,EAAE,YAAY;AACxC,MAAI,CAAC,MAAM;AACT,WAAO,QAAQ,aAAa,EAAE,IAAI,OAAO,OAAO,gBAAgB,GAAG,GAAG;EACxE;AAEA,QAAM,UAAU,MAAM,QAAQ,sBAAsB,SAAS,GAAG;AAChE,QAAM,MAAM,QAAQ,eAAe,QAAQ,GAAG;AAC9C,MAAI,CAAC,IAAK,QAAO,QAAQ,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAE/E,QAAM,MAAM,MAAM,QAAQ,QAAQ,KAAK,wDAAwD,IAAI;AACnG,MAAI,CAAC,OAAO,CAAC,IAAI,QAAQ,OAAO,IAAI,UAAU,CAAC,MAAM,GAAG;AACtD,WAAO,QAAQ,aAAa,EAAE,IAAI,OAAO,OAAO,2BAA2B,GAAG,GAAG;EACnF;AAEA,QAAM,OAAO,OAAO,IAAI,IAAI;AAC5B,QAAM,QAAQ,MAAM,KAAK,0CAA0C,MAAM,GAAG;AAE5E,QAAM,UAAU,MAAM,QAAQ,QAAQ,KAAK,yEAAyE,GAAG;AACvH,QAAM,eAAe,MAAM,QAAQ,gBAAgB,QAAQ,MAAM,KAAK,eAAe,EAAE,MAAM,KAAK,UAAU,MAAM,UAAU,OAAO,QAAQ,KAAK,KAAK,KAAK,GAAG,CAAC;AAE9J,SAAO,QAAQ,aAAa,EAAE,IAAI,MAAM,MAAM,MAAM,QAAQ,GAAG,KAAK,EAAE,cAAc,aAAa,CAAC;AACpG;AA3BsBA;AADtB,IAAA,kBAAA,MAAA;EAAA,sBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AACsB,IAAAT,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACCtB,eAAsBA,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,OAAO,SAAS,IAAI;AAC5B,MAAI,CAAC,SAAS,CAAC,SAAU,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,8BAA8B,GAAG,GAAG;AAErG,QAAM,MAAM,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,QAAQ,KAAK,oFAAoF,KAAK,CAAC;AAC1J,MAAI,CAAC,OAAO,CAAC,IAAI,GAAI,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,sBAAsB,GAAG,GAAG;AAEzF,QAAMG,SAAQ,IAAI,gBAAgB,MAAM,gBAAgB,UAAU,IAAI,aAAa,IAAI;AACvF,MAAI,CAACA,OAAO,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,sBAAsB,GAAG,GAAG;AAEhF,QAAM,MAAM,IAAI;AAChB,QAAM,OAAO,IAAI,QAAQ;AACzB,QAAM,SAAS,KAAK;AACpB,QAAM,UAAU,MAAM,gBAAgB,OAAO,KAAK,MAAM;AACxD,QAAM,UAAU,MAAM,gBAAgB,QAAQ,MAAM,MAAM;AAE1D,SAAO,aAAa,EAAE,IAAI,MAAM,MAAM,EAAE,IAAI,KAAK,OAAO,YAAY,IAAI,YAAY,WAAW,IAAI,WAAW,KAAK,EAAE,GAAG,KAAK,EAAE,cAAc,CAAC,SAAS,OAAO,EAAE,KAAK,IAAI,EAAE,CAAC;AAC9K;AAnBsBH;AAFtB,IAAA,aAAA,MAAA;EAAA,iBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACAtB,eAAsBA,eAAc,EAAE,IAAI,GAAiB;AACzD,QAAM,SAAS,KAAK;AACpB,MAAI,QAAQ;AACV,UAAM,KAAK,MAAM,gBAAgB,OAAO,IAAI,QAAQ,EAAE,QAAQ,EAAE,CAAC;AACjE,UAAM,KAAK,MAAM,gBAAgB,QAAQ,IAAI,QAAQ,EAAE,QAAQ,EAAE,CAAC;AAClE,WAAO,aAAa,EAAE,IAAI,KAAK,GAAG,KAAK,EAAE,cAAc,CAAC,IAAI,EAAE,EAAE,KAAK,IAAI,EAAE,CAAC;EAC9E;AAEA,QAAM,UAAU,gBAAAT,QAAA,CAAC,SAAiB,GAAG,IAAI,kCAAzB,SAAA;AAChB,SAAO,aAAa,EAAE,IAAI,KAAK,GAAG,KAAK,EAAE,cAAc,CAAC,QAAQ,KAAK,GAAG,QAAQ,MAAM,CAAC,EAAE,KAAK,IAAI,EAAE,CAAC;AACvG;AAVsBS;AAFtB,IAAA,cAAA,MAAA;EAAA,kBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACCtB,eAAsBC,cAAa,EAAE,SAAS,IAAI,GAAmC;AACnF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,QAAM,MAAM,KAAK;AACjB,MAAI,CAAC,IAAK,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAEvE,QAAM,MAAM,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,QAAQ,KAAK,qFAAqF,GAAG,CAAC;AACzJ,MAAI,CAAC,IAAK,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAEvE,SAAO,aAAa,EAAE,IAAI,MAAM,MAAM,EAAE,IAAI,IAAI,IAAI,OAAO,IAAI,OAAO,YAAY,IAAI,YAAY,WAAW,IAAI,WAAW,MAAM,IAAI,MAAM,YAAY,IAAI,WAAW,EAAE,CAAC;AAC5K;AAVsBA;AAHtB,IAAA,UAAA,MAAA;EAAA,cAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AACA,iBAAA;AAEsB,IAAAV,QAAAU,eAAA,cAAA;EAAA;AAAA,CAAA;ACDtB,eAAsBA,cAAa,EAAE,IAAI,GAAiB;AACxD,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,0JAA0J,CAAC;AAC1N,SAAO,aAAa,EAAE,IAAI,MAAM,UAAU,KAAK,WAAW,CAAC,EAAE,CAAC;AAChE;AAJsBA;AAMtB,eAAsBD,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,QAAM,MAAM,eAAe,KAAK,GAAG;AACnC,MAAI,CAAC,IAAK,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAEvE,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,KAAK,IAAI;AACjB,MAAI,CAAC,KAAM,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,gBAAgB,GAAG,GAAG;AAEzE,QAAM,KAAK,OAAO,WAAW;AAC7B,QAAM,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAC/C,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,2EAA2E,IAAI,KAAK,MAAM,UAAU,CAAC;AACvJ,SAAO,aAAa,EAAE,IAAI,MAAM,SAAS,EAAE,IAAI,SAAS,KAAK,MAAM,MAAM,WAAW,EAAE,CAAC;AACzF;AAbsBA;AARtB,IAAA,gBAAA,MAAA;EAAA,oBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAU,eAAA,cAAA;AAMA,IAAAV,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACNtB,eAAsBC,cAAa,EAAE,IAAI,GAAiB;AACxD,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,+CAA+C,CAAC;AAC/G,SAAO,aAAa,EAAE,IAAI,MAAM,QAAQ,KAAK,WAAW,CAAC,EAAE,CAAC;AAC9D;AAJsBA;AAMtB,eAAsBD,eAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,QAAM,MAAM,eAAe,KAAK,GAAG;AACnC,MAAI,CAAC,IAAK,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAEvE,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,KAAK,QAAQ,IAAI;AACzB,MAAI,CAAC,IAAK,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,eAAe,GAAG,GAAG;AAEvE,QAAM,KAAK,OAAO,WAAW;AAC7B,QAAM,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAC/C,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,uFAAuF,IAAI,KAAK,WAAW,MAAM,KAAK,UAAU,CAAC;AACnL,SAAO,aAAa,EAAE,IAAI,MAAM,OAAO,EAAE,IAAI,KAAK,SAAS,YAAY,KAAK,WAAW,EAAE,CAAC;AAC5F;AAbsBA;AARtB,IAAA,cAAA,MAAA;EAAA,kBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAU,eAAA,cAAA;AAMA,IAAAV,QAAAS,gBAAA,eAAA;EAAA;AAAA,CAAA;ACPtB,eAAsBC,gBAAe;AACnC,SAAO,IAAI,SAAS,MAAM;AAC5B;AAFsBA;AADtB,IAAA,YAAA,MAAA;EAAA,gBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AACsB,IAAAV,QAAAU,eAAA,cAAA;EAAA;AAAA,CAAA;ACCtB,eAAsBA,cAAa,EAAE,IAAI,GAAiB;AACxD,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,4CAA4C,CAAC;AAC5G,SAAO,aAAa,EAAE,IAAI,MAAM,QAAQ,KAAK,WAAW,CAAC,EAAE,CAAC;AAC9D;AAJsBA;AAMtB,eAAsBD,gBAAc,EAAE,SAAS,IAAI,GAAmC;AAEpF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,sBAAsB,SAAS,GAAG;AACrD,MAAI,CAAC,YAAY,KAAK,MAAM,CAAC,SAAS,YAAY,CAAC,EAAG,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,YAAY,GAAG,GAAG;AAEhH,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,OAAO,aAAa,UAAU,UAAU,QAAQ,SAAS,IAAI;AACrE,MAAI,CAAC,SAAS,CAAC,SAAU,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,8BAA8B,GAAG,GAAG;AAErG,QAAM,KAAK,OAAO,WAAW;AAC7B,QAAM,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAC/C,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,6JAA6J,IAAI,OAAO,eAAe,MAAM,YAAY,MAAM,UAAU,UAAU,MAAM,YAAY,GAAG,eAAe,KAAK,GAAG,KAAK,UAAU,UAAU,CAAC;AAE3V,SAAO,aAAa,EAAE,IAAI,MAAM,OAAO,EAAE,IAAI,OAAO,aAAa,UAAU,UAAU,QAAQ,SAAS,EAAE,CAAC;AAC3G;AAfsBA;AARtB,IAAA,cAAA,MAAA;EAAA,kBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAT,QAAAU,eAAA,cAAA;AAMA,IAAAV,QAAAS,iBAAA,eAAA;EAAA;AAAA,CAAA;ACNtB,eAAsBA,gBAAc,EAAE,SAAS,IAAI,GAAmC;AACpF,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,eAAe,GAAG,CAAC;AAC1D,QAAM,OAAO,MAAM,QAAQ,KAAK,EAAE,MAAM,OAAO,CAAC,EAAS;AACzD,QAAM,EAAE,OAAO,UAAU,WAAW,SAAS,IAAI;AACjD,MAAI,CAAC,SAAS,CAAC,SAAU,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,8BAA8B,GAAG,GAAG;AAErG,QAAM,WAAW,MAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,QAAQ,KAAK,wCAAwC,KAAK,CAAC;AACnH,MAAI,YAAY,SAAS,GAAI,QAAO,aAAa,EAAE,IAAI,OAAO,OAAO,uBAAuB,GAAG,GAAG;AAElG,QAAM,MAAM,OAAO,WAAW;AAC9B,QAAM,gBAAgB,MAAM,aAAa,QAAQ;AACjD,QAAM,aAAa,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAE/C,QAAM,QAAA,QAAA,EAAA,KAAA,OAAA,aAAA,GAAA,gBAAA,EAAqB,KAAK,CAAA,MAAK,EAAE,MAAM,KAAK,qHAAqH,KAAK,OAAO,eAAe,aAAa,MAAM,YAAY,MAAM,WAAW,UAAU,CAAC;AAE7P,QAAM,SAAS,KAAK;AACpB,QAAM,UAAU,MAAM,gBAAgB,OAAO,KAAK,MAAM;AACxD,QAAM,UAAU,MAAM,gBAAgB,QAAQ,WAAW,MAAM;AAC/D,SAAO,aAAa,EAAE,IAAI,MAAM,MAAM,EAAE,IAAI,KAAK,OAAO,YAAY,WAAW,WAAW,UAAU,MAAM,UAAU,EAAE,GAAG,KAAK,EAAE,cAAc,CAAC,SAAS,OAAO,EAAE,KAAK,IAAI,EAAE,CAAC;AAC/K;AAnBsBA;AAFtB,IAAAI,eAAA,MAAA;EAAA,kBAAA;AAAA;AAAA,4CAAA;AAAA,uBAAA;AAAA,iBAAA;AAEsB,IAAAb,QAAAS,iBAAA,eAAA;EAAA;AAAA,CAAA;ACFtB,IAoBa;AApBb,IAAA,0CAAA,MAAA;EAAA,yEAAA;AAAA;AAAA,eAAA;AACA,kBAAA;AACA,eAAA;AACA,gBAAA;AACA,uBAAA;AACA,uBAAA;AACAE,gBAAAA;AACA,oBAAA;AACA,eAAA;AACA,gBAAA;AACA,YAAA;AACA,kBAAA;AACA,kBAAA;AACA,gBAAA;AACA,gBAAA;AACA,cAAA;AACA,gBAAA;AACA,gBAAA;AACAE,iBAAAA;AAEa,aAAS;MAClB;QACE,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAAC,aAAkC;MAC9C;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACJ,cAAqC;MACjD;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAAC,YAAiC;MAC7C;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACA,cAAoC;MAChD;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACC,aAAmC;MAC/C;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACD,cAAoC;MAChD;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACC,aAA2B;MACvC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACD,cAAiC;MAC7C;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACA,cAA4B;MACxC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACA,cAA6B;MACzC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACC,aAAwB;MACpC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACA,aAA8B;MAC1C;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACD,cAA+B;MAC3C;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACC,aAA4B;MACxC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACD,cAA6B;MACzC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACC,aAA0B;MACtC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACA,aAA4B;MACxC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACD,eAA6B;MACzC;MACF;QACI,WAAW;QACX,WAAW;QACX,QAAQ;QACR,aAAa,CAAC;QACd,SAAS,CAACA,eAA6B;MACzC;IACF;EAAA;AAAA,CAAA;AC1JF,wCAAA;AAAA,mBAAA;ACAA,wCAAA;AAAA,mBAAA;ACAA,wCAAA;AAAA,mBAAA;ACiBA,wCAAA;;AAGA,SAAS,MAAM,KAAW;AACxB,MAAM,SAAqB,CAAA;AAC3B,MAAI,IAAI;AAER,SAAO,IAAI,IAAI,QAAQ;AACrB,QAAM,OAAO,IAAI,CAAC;AAElB,QAAI,SAAS,OAAO,SAAS,OAAO,SAAS,KAAK;AAChD,aAAO,KAAK,EAAE,MAAM,YAAY,OAAO,GAAG,OAAO,IAAI,GAAG,EAAC,CAAE;AAC3D;;AAGF,QAAI,SAAS,MAAM;AACjB,aAAO,KAAK,EAAE,MAAM,gBAAgB,OAAO,KAAK,OAAO,IAAI,GAAG,EAAC,CAAE;AACjE;;AAGF,QAAI,SAAS,KAAK;AAChB,aAAO,KAAK,EAAE,MAAM,QAAQ,OAAO,GAAG,OAAO,IAAI,GAAG,EAAC,CAAE;AACvD;;AAGF,QAAI,SAAS,KAAK;AAChB,aAAO,KAAK,EAAE,MAAM,SAAS,OAAO,GAAG,OAAO,IAAI,GAAG,EAAC,CAAE;AACxD;;AAGF,QAAI,SAAS,KAAK;AAChB,UAAI,OAAO;AACX,UAAI,IAAI,IAAI;AAEZ,aAAO,IAAI,IAAI,QAAQ;AACrB,YAAM,OAAO,IAAI,WAAW,CAAC;AAE7B;;UAEG,QAAQ,MAAM,QAAQ;UAEtB,QAAQ,MAAM,QAAQ;UAEtB,QAAQ,MAAM,QAAQ;UAEvB,SAAS;UACT;AACA,kBAAQ,IAAI,GAAG;AACf;;AAGF;;AAGF,UAAI,CAAC;AAAM,cAAM,IAAI,UAAU,6BAAA,OAA6B,CAAC,CAAE;AAE/D,aAAO,KAAK,EAAE,MAAM,QAAQ,OAAO,GAAG,OAAO,KAAI,CAAE;AACnD,UAAI;AACJ;;AAGF,QAAI,SAAS,KAAK;AAChB,UAAI,QAAQ;AACZ,UAAI,UAAU;AACd,UAAI,IAAI,IAAI;AAEZ,UAAI,IAAI,CAAC,MAAM,KAAK;AAClB,cAAM,IAAI,UAAU,oCAAA,OAAoC,CAAC,CAAE;;AAG7D,aAAO,IAAI,IAAI,QAAQ;AACrB,YAAI,IAAI,CAAC,MAAM,MAAM;AACnB,qBAAW,IAAI,GAAG,IAAI,IAAI,GAAG;AAC7B;;AAGF,YAAI,IAAI,CAAC,MAAM,KAAK;AAClB;AACA,cAAI,UAAU,GAAG;AACf;AACA;;mBAEO,IAAI,CAAC,MAAM,KAAK;AACzB;AACA,cAAI,IAAI,IAAI,CAAC,MAAM,KAAK;AACtB,kBAAM,IAAI,UAAU,uCAAA,OAAuC,CAAC,CAAE;;;AAIlE,mBAAW,IAAI,GAAG;;AAGpB,UAAI;AAAO,cAAM,IAAI,UAAU,yBAAA,OAAyB,CAAC,CAAE;AAC3D,UAAI,CAAC;AAAS,cAAM,IAAI,UAAU,sBAAA,OAAsB,CAAC,CAAE;AAE3D,aAAO,KAAK,EAAE,MAAM,WAAW,OAAO,GAAG,OAAO,QAAO,CAAE;AACzD,UAAI;AACJ;;AAGF,WAAO,KAAK,EAAE,MAAM,QAAQ,OAAO,GAAG,OAAO,IAAI,GAAG,EAAC,CAAE;;AAGzD,SAAO,KAAK,EAAE,MAAM,OAAO,OAAO,GAAG,OAAO,GAAE,CAAE;AAEhD,SAAO;AACT;AAvGS;AAAAT,QAAA,OAAA,OAAA;AAuHH,SAAU,MAAM,KAAa,SAA0B;AAA1B,MAAA,YAAA,QAAA;AAAA,cAAA,CAAA;EAA0B;AAC3D,MAAM,SAAS,MAAM,GAAG;AAChB,MAAA,KAAuC,QAAO,UAA9C,WAAQ,OAAA,SAAG,OAAI,IAAE,KAAsB,QAAO,WAA7B,YAAS,OAAA,SAAG,QAAK;AAC1C,MAAM,SAAkB,CAAA;AACxB,MAAI,MAAM;AACV,MAAI,IAAI;AACR,MAAI,OAAO;AAEX,MAAM,aAAa,gBAAAA,QAAA,SAAC,MAAsB;AACxC,QAAI,IAAI,OAAO,UAAU,OAAO,CAAC,EAAE,SAAS;AAAM,aAAO,OAAO,GAAG,EAAE;EACvE,GAFmB,YAAA;AAInB,MAAM,cAAc,gBAAAA,QAAA,SAAC,MAAsB;AACzC,QAAMc,SAAQ,WAAW,IAAI;AAC7B,QAAIA,WAAU;AAAW,aAAOA;AAC1B,QAAAC,MAA4B,OAAO,CAAC,GAA5B,WAAQA,IAAA,MAAE,QAAKA,IAAA;AAC7B,UAAM,IAAI,UAAU,cAAA,OAAc,UAAQ,MAAA,EAAA,OAAO,OAAK,aAAA,EAAA,OAAc,IAAI,CAAE;EAC5E,GALoB,aAAA;AAOpB,MAAM,cAAc,gBAAAf,QAAA,WAAA;AAClB,QAAIgB,UAAS;AACb,QAAIF;AACJ,WAAQA,SAAQ,WAAW,MAAM,KAAK,WAAW,cAAc,GAAI;AACjEE,iBAAUF;;AAEZ,WAAOE;EACT,GAPoB,aAAA;AASpB,MAAM,SAAS,gBAAAhB,QAAA,SAACc,QAAa;AAC3B,aAAmB,KAAA,GAAA,cAAA,WAAA,KAAA,YAAA,QAAA,MAAS;AAAvB,UAAMG,QAAI,YAAA,EAAA;AAAe,UAAIH,OAAM,QAAQG,KAAI,IAAI;AAAI,eAAO;;AACnE,WAAO;EACT,GAHe,QAAA;AAKf,MAAM,cAAc,gBAAAjB,QAAA,SAACkB,SAAc;AACjC,QAAM,OAAO,OAAO,OAAO,SAAS,CAAC;AACrC,QAAM,WAAWA,YAAW,QAAQ,OAAO,SAAS,WAAW,OAAO;AAEtE,QAAI,QAAQ,CAAC,UAAU;AACrB,YAAM,IAAI,UACR,8DAAA,OAA+D,KAAa,MAAI,GAAA,CAAG;;AAIvF,QAAI,CAAC,YAAY,OAAO,QAAQ;AAAG,aAAO,KAAA,OAAK,aAAa,SAAS,GAAC,KAAA;AACtE,WAAO,SAAA,OAAS,aAAa,QAAQ,GAAC,KAAA,EAAA,OAAM,aAAa,SAAS,GAAC,MAAA;EACrE,GAZoB,aAAA;AAcpB,SAAO,IAAI,OAAO,QAAQ;AACxB,QAAM,OAAO,WAAW,MAAM;AAC9B,QAAM,OAAO,WAAW,MAAM;AAC9B,QAAM,UAAU,WAAW,SAAS;AAEpC,QAAI,QAAQ,SAAS;AACnB,UAAI,SAAS,QAAQ;AAErB,UAAI,SAAS,QAAQ,MAAM,MAAM,IAAI;AACnC,gBAAQ;AACR,iBAAS;;AAGX,UAAI,MAAM;AACR,eAAO,KAAK,IAAI;AAChB,eAAO;;AAGT,aAAO,KAAK;QACV,MAAM,QAAQ;QACd;QACA,QAAQ;QACR,SAAS,WAAW,YAAY,MAAM;QACtC,UAAU,WAAW,UAAU,KAAK;OACrC;AACD;;AAGF,QAAM,QAAQ,QAAQ,WAAW,cAAc;AAC/C,QAAI,OAAO;AACT,cAAQ;AACR;;AAGF,QAAI,MAAM;AACR,aAAO,KAAK,IAAI;AAChB,aAAO;;AAGT,QAAM,OAAO,WAAW,MAAM;AAC9B,QAAI,MAAM;AACR,UAAM,SAAS,YAAW;AAC1B,UAAM,SAAO,WAAW,MAAM,KAAK;AACnC,UAAM,YAAU,WAAW,SAAS,KAAK;AACzC,UAAM,SAAS,YAAW;AAE1B,kBAAY,OAAO;AAEnB,aAAO,KAAK;QACV,MAAM,WAAS,YAAU,QAAQ;QACjC,SAAS,UAAQ,CAAC,YAAU,YAAY,MAAM,IAAI;QAClD;QACA;QACA,UAAU,WAAW,UAAU,KAAK;OACrC;AACD;;AAGF,gBAAY,KAAK;;AAGnB,SAAO;AACT;AA7GgB;AAAAlB,QAAA,OAAA,OAAA;AA4PV,SAAU,MACd,KACA,SAAwE;AAExE,MAAM,OAAc,CAAA;AACpB,MAAM,KAAK,aAAa,KAAK,MAAM,OAAO;AAC1C,SAAO,iBAAoB,IAAI,MAAM,OAAO;AAC9C;AAPgB;AAAAA,QAAA,OAAA,OAAA;AAYV,SAAU,iBACd,IACA,MACA,SAAqC;AAArC,MAAA,YAAA,QAAA;AAAA,cAAA,CAAA;EAAqC;AAE7B,MAAA,KAA8B,QAAO,QAArC,SAAM,OAAA,SAAG,SAAC,GAAS;AAAK,WAAA;EAAA,IAAC;AAEjC,SAAO,SAAU,UAAgB;AAC/B,QAAM,IAAI,GAAG,KAAK,QAAQ;AAC1B,QAAI,CAAC;AAAG,aAAO;AAEP,QAAG,OAAgB,EAAC,CAAA,GAAX,QAAU,EAAC;AAC5B,QAAM,SAAS,uBAAO,OAAO,IAAI;mDAExBmB,IAAC;AACR,UAAI,EAAEA,EAAC,MAAM;;AAEb,UAAM,MAAM,KAAKA,KAAI,CAAC;AAEtB,UAAI,IAAI,aAAa,OAAO,IAAI,aAAa,KAAK;AAChD,eAAO,IAAI,IAAI,IAAI,EAAEA,EAAC,EAAE,MAAM,IAAI,SAAS,IAAI,MAAM,EAAE,IAAI,SAAC,OAAK;AAC/D,iBAAO,OAAO,OAAO,GAAG;QAC1B,CAAC;aACI;AACL,eAAO,IAAI,IAAI,IAAI,OAAO,EAAEA,EAAC,GAAG,GAAG;;;AAVvC,aAAS,IAAI,GAAG,IAAI,EAAE,QAAQ,KAAG;cAAxB,CAAC;;AAcV,WAAO,EAAE,MAAM,OAAO,OAAM;EAC9B;AACF;AA9BgB;AAAAnB,QAAA,kBAAA,kBAAA;AAmChB,SAAS,aAAa,KAAW;AAC/B,SAAO,IAAI,QAAQ,6BAA6B,MAAM;AACxD;AAFS;AAAAA,QAAA,cAAA,cAAA;AAOT,SAAS,MAAM,SAAiC;AAC9C,SAAO,WAAW,QAAQ,YAAY,KAAK;AAC7C;AAFS;AAAAA,QAAA,OAAA,OAAA;AAuBT,SAAS,eAAe,MAAc,MAAY;AAChD,MAAI,CAAC;AAAM,WAAO;AAElB,MAAM,cAAc;AAEpB,MAAI,QAAQ;AACZ,MAAI,aAAa,YAAY,KAAK,KAAK,MAAM;AAC7C,SAAO,YAAY;AACjB,SAAK,KAAK;;MAER,MAAM,WAAW,CAAC,KAAK;MACvB,QAAQ;MACR,QAAQ;MACR,UAAU;MACV,SAAS;KACV;AACD,iBAAa,YAAY,KAAK,KAAK,MAAM;;AAG3C,SAAO;AACT;AApBS;AAAAA,QAAA,gBAAA,gBAAA;AAyBT,SAAS,cACP,OACA,MACA,SAA8C;AAE9C,MAAM,QAAQ,MAAM,IAAI,SAAC,MAAI;AAAK,WAAA,aAAa,MAAM,MAAM,OAAO,EAAE;EAAlC,CAAwC;AAC1E,SAAO,IAAI,OAAO,MAAA,OAAM,MAAM,KAAK,GAAG,GAAC,GAAA,GAAK,MAAM,OAAO,CAAC;AAC5D;AAPS;AAAAA,QAAA,eAAA,eAAA;AAYT,SAAS,eACP,MACA,MACA,SAA8C;AAE9C,SAAO,eAAe,MAAM,MAAM,OAAO,GAAG,MAAM,OAAO;AAC3D;AANS;AAAAA,QAAA,gBAAA,gBAAA;AA0CH,SAAU,eACd,QACA,MACA,SAAmC;AAAnC,MAAA,YAAA,QAAA;AAAA,cAAA,CAAA;EAAmC;AAGjC,MAAA,KAME,QAAO,QANT,SAAM,OAAA,SAAG,QAAK,IACd,KAKE,QAAO,OALT,QAAK,OAAA,SAAG,OAAI,IACZ,KAIE,QAAO,KAJT,MAAG,OAAA,SAAG,OAAI,IACV,KAGE,QAAO,QAHT,SAAM,OAAA,SAAG,SAAC,GAAS;AAAK,WAAA;EAAA,IAAC,IACzB,KAEE,QAAO,WAFT,YAAS,OAAA,SAAG,QAAK,IACjB,KACE,QAAO,UADT,WAAQ,OAAA,SAAG,KAAE;AAEf,MAAM,aAAa,IAAA,OAAI,aAAa,QAAQ,GAAC,KAAA;AAC7C,MAAM,cAAc,IAAA,OAAI,aAAa,SAAS,GAAC,GAAA;AAC/C,MAAI,QAAQ,QAAQ,MAAM;AAG1B,WAAoB,KAAA,GAAA,WAAA,QAAA,KAAA,SAAA,QAAA,MAAQ;AAAvB,QAAM,QAAK,SAAA,EAAA;AACd,QAAI,OAAO,UAAU,UAAU;AAC7B,eAAS,aAAa,OAAO,KAAK,CAAC;WAC9B;AACL,UAAM,SAAS,aAAa,OAAO,MAAM,MAAM,CAAC;AAChD,UAAM,SAAS,aAAa,OAAO,MAAM,MAAM,CAAC;AAEhD,UAAI,MAAM,SAAS;AACjB,YAAI;AAAM,eAAK,KAAK,KAAK;AAEzB,YAAI,UAAU,QAAQ;AACpB,cAAI,MAAM,aAAa,OAAO,MAAM,aAAa,KAAK;AACpD,gBAAM,MAAM,MAAM,aAAa,MAAM,MAAM;AAC3C,qBAAS,MAAA,OAAM,QAAM,MAAA,EAAA,OAAO,MAAM,SAAO,MAAA,EAAA,OAAO,MAAM,EAAA,OAAG,QAAM,KAAA,EAAA,OAAM,MAAM,SAAO,MAAA,EAAA,OAAO,QAAM,GAAA,EAAA,OAAI,GAAG;iBACjG;AACL,qBAAS,MAAA,OAAM,QAAM,GAAA,EAAA,OAAI,MAAM,SAAO,GAAA,EAAA,OAAI,QAAM,GAAA,EAAA,OAAI,MAAM,QAAQ;;eAE/D;AACL,cAAI,MAAM,aAAa,OAAO,MAAM,aAAa,KAAK;AACpD,kBAAM,IAAI,UACR,mBAAA,OAAmB,MAAM,MAAI,+BAAA,CAA+B;;AAIhE,mBAAS,IAAA,OAAI,MAAM,SAAO,GAAA,EAAA,OAAI,MAAM,QAAQ;;aAEzC;AACL,iBAAS,MAAA,OAAM,MAAM,EAAA,OAAG,QAAM,GAAA,EAAA,OAAI,MAAM,QAAQ;;;;AAKtD,MAAI,KAAK;AACP,QAAI,CAAC;AAAQ,eAAS,GAAA,OAAG,aAAW,GAAA;AAEpC,aAAS,CAAC,QAAQ,WAAW,MAAM,MAAA,OAAM,YAAU,GAAA;SAC9C;AACL,QAAM,WAAW,OAAO,OAAO,SAAS,CAAC;AACzC,QAAM,iBACJ,OAAO,aAAa,WAChB,YAAY,QAAQ,SAAS,SAAS,SAAS,CAAC,CAAC,IAAI,KACrD,aAAa;AAEnB,QAAI,CAAC,QAAQ;AACX,eAAS,MAAA,OAAM,aAAW,KAAA,EAAA,OAAM,YAAU,KAAA;;AAG5C,QAAI,CAAC,gBAAgB;AACnB,eAAS,MAAA,OAAM,aAAW,GAAA,EAAA,OAAI,YAAU,GAAA;;;AAI5C,SAAO,IAAI,OAAO,OAAO,MAAM,OAAO,CAAC;AACzC;AAvEgB;AAAAA,QAAA,gBAAA,gBAAA;AAqFV,SAAU,aACd,MACA,MACA,SAA8C;AAE9C,MAAI,gBAAgB;AAAQ,WAAO,eAAe,MAAM,IAAI;AAC5D,MAAI,MAAM,QAAQ,IAAI;AAAG,WAAO,cAAc,MAAM,MAAM,OAAO;AACjE,SAAO,eAAe,MAAM,MAAM,OAAO;AAC3C;AARgB;AAAAA,QAAA,cAAA,cAAA;ADrnBhB,IAAM,cAAc;AAwDpB,UAAU,eAAe,SAAkB;AAC1C,QAAM,cAAc,IAAI,IAAI,QAAQ,GAAG,EAAE;AAGzC,aAAW,SAAS,CAAC,GAAG,MAAM,EAAE,QAAQ,GAAG;AAC1C,QAAI,MAAM,UAAU,MAAM,WAAW,QAAQ,QAAQ;AACpD;IACD;AAGA,UAAM,eAAe,MAAM,MAAM,UAAU,QAAQ,aAAa,MAAM,GAAG;MACxE,KAAK;IACN,CAAC;AACD,UAAM,eAAe,MAAM,MAAM,UAAU,QAAQ,aAAa,MAAM,GAAG;MACxE,KAAK;IACN,CAAC;AACD,UAAM,cAAc,aAAa,WAAW;AAC5C,UAAM,mBAAmB,aAAa,WAAW;AACjD,QAAI,eAAe,kBAAkB;AACpC,iBAAW,WAAW,MAAM,YAAY,KAAK,GAAG;AAC/C,cAAM;UACL;UACA,QAAQ,YAAY;UACpB,MAAM,iBAAiB;QACxB;MACD;IACD;EACD;AAGA,aAAW,SAAS,QAAQ;AAC3B,QAAI,MAAM,UAAU,MAAM,WAAW,QAAQ,QAAQ;AACpD;IACD;AACA,UAAM,eAAe,MAAM,MAAM,UAAU,QAAQ,aAAa,MAAM,GAAG;MACxE,KAAK;IACN,CAAC;AACD,UAAM,eAAe,MAAM,MAAM,UAAU,QAAQ,aAAa,MAAM,GAAG;MACxE,KAAK;IACN,CAAC;AACD,UAAM,cAAc,aAAa,WAAW;AAC5C,UAAM,mBAAmB,aAAa,WAAW;AACjD,QAAI,eAAe,oBAAoB,MAAM,QAAQ,QAAQ;AAC5D,iBAAW,WAAW,MAAM,QAAQ,KAAK,GAAG;AAC3C,cAAM;UACL;UACA,QAAQ,YAAY;UACpB,MAAM,YAAY;QACnB;MACD;AACA;IACD;EACD;AACD;AArDU;AAAAA,QAAA,gBAAA,gBAAA;AAuDV,IAAO,gCAAQ;EACd,MAAM,MACL,iBACA,KACA,eACC;AACD,QAAI,UAAU;AACd,UAAM,kBAAkB,eAAe,OAAO;AAC9C,QAAI,OAAO,CAAC;AACZ,QAAI,aAAa;AAEjB,UAAM,OAAO,gBAAAA,QAAA,OAAO,OAAqB,SAAuB;AAC/D,UAAI,UAAU,QAAW;AACxB,YAAI,MAAM;AACV,YAAI,OAAO,UAAU,UAAU;AAC9B,gBAAM,IAAI,IAAI,OAAO,QAAQ,GAAG,EAAE,SAAS;QAC5C;AACA,kBAAU,IAAI,QAAQ,KAAK,IAAI;MAChC;AAEA,YAAM,SAAS,gBAAgB,KAAK;AAEpC,UAAI,OAAO,SAAS,OAAO;AAC1B,cAAM,EAAE,SAAS,QAAQ,KAAK,IAAI,OAAO;AACzC,cAAM,UAAU;UACf,SAAS,IAAI,QAAQ,QAAQ,MAAM,CAAC;UACpC,cAAc;UACd;UACA;UACA,IAAI,OAAO;AACV,mBAAO;UACR;UACA,IAAI,KAAK,OAAO;AACf,gBAAI,OAAO,UAAU,YAAY,UAAU,MAAM;AAChD,oBAAM,IAAI,MAAM,gCAAgC;YACjD;AAEA,mBAAO;UACR;UACA;UACA,WAAW,cAAc,UAAU,KAAK,aAAa;UACrD,wBAAwB,gBAAAA,QAAA,MAAM;AAC7B,yBAAa;UACd,GAFwB,wBAAA;QAGzB;AAEA,cAAM,WAAW,MAAM,QAAQ,OAAO;AAEtC,YAAI,EAAE,oBAAoB,WAAW;AACpC,gBAAM,IAAI,MAAM,8CAA8C;QAC/D;AAEA,eAAO,cAAc,QAAQ;MAC9B,WAAW,UAAsB;AAEhC,cAAM,WAAW,MAAM,IAAI,QAAoB,EAAE,MAAM,OAAO;AAC9D,eAAO,cAAc,QAAQ;MAC9B,OAAO;AAEN,cAAM,WAAW,MAAM,MAAM,OAAO;AACpC,eAAO,cAAc,QAAQ;MAC9B;IACD,GAnDa,MAAA;AAqDb,QAAI;AACH,aAAO,MAAM,KAAK;IACnB,SAAS,OAAO;AACf,UAAI,YAAY;AACf,cAAM,WAAW,MAAM,IAAI,QAAoB,EAAE,MAAM,OAAO;AAC9D,eAAO,cAAc,QAAQ;MAC9B;AAEA,YAAM;IACP;EACD;AACD;AAGA,IAAM,gBAAgB,gBAAAA,QAAA,CAAC;;EAEtB,IAAI;IACH,CAAC,KAAK,KAAK,KAAK,GAAG,EAAE,SAAS,SAAS,MAAM,IAAI,OAAO,SAAS;IACjE;EACD;GALqB,eAAA;AEhMtB,wCAAA;AAAA,mBAAA;AAEA,IAAM,YAAwB,gBAAAA,QAAA,OAAO,SAAS,KAAK,MAAM,kBAAkB;AAC1E,MAAI;AACH,WAAO,MAAM,cAAc,KAAK,SAAS,GAAG;EAC7C,UAAA;AACC,QAAI;AACH,UAAI,QAAQ,SAAS,QAAQ,CAAC,QAAQ,UAAU;AAC/C,cAAM,SAAS,QAAQ,KAAK,UAAU;AACtC,eAAO,EAAE,MAAM,OAAO,KAAK,GAAG,MAAM;QAAC;MACtC;IACD,SAAS,GAAG;AACX,cAAQ,MAAM,4CAA4C,CAAC;IAC5D;EACD;AACD,GAb8B,WAAA;AAe9B,IAAO,6CAAQ;ACjBf,wCAAA;AAAA,mBAAA;AASA,SAAS,YAAY,GAAmB;AACvC,SAAO;IACN,MAAM,GAAG;IACT,SAAS,GAAG,WAAW,OAAO,CAAC;IAC/B,OAAO,GAAG;IACV,OAAO,GAAG,UAAU,SAAY,SAAY,YAAY,EAAE,KAAK;EAChE;AACD;AAPS;AAAAA,QAAA,aAAA,aAAA;AAUT,IAAM,YAAwB,gBAAAA,QAAA,OAAO,SAAS,KAAK,MAAM,kBAAkB;AAC1E,MAAI;AACH,WAAO,MAAM,cAAc,KAAK,SAAS,GAAG;EAC7C,SAAS,GAAQ;AAChB,UAAM,QAAQ,YAAY,CAAC;AAC3B,WAAO,SAAS,KAAK,OAAO;MAC3B,QAAQ;MACR,SAAS,EAAE,+BAA+B,OAAO;IAClD,CAAC;EACF;AACD,GAV8B,WAAA;AAY9B,IAAO,2CAAQ;AJzBJ,IAAM,mCAAmC;EAE9B;EAAyB;AAC3C;AACA,IAAO,sCAAQ;AKVnB,wCAAA;AAAA,mBAAA;AAwBA,IAAM,wBAAsC,CAAC;AAKtC,SAAS,uBAAuB,MAAqC;AAC3E,wBAAsB,KAAK,GAAG,KAAK,KAAK,CAAC;AAC1C;AAFgB;AAAAA,QAAA,qBAAA,qBAAA;AAShB,SAAS,uBACR,SACA,KACA,KACA,UACA,iBACsB;AACtB,QAAM,CAAC,MAAM,GAAG,IAAI,IAAI;AACxB,QAAM,gBAAmC;IACxC;IACA,KAAK,YAAY,QAAQ;AACxB,aAAO,uBAAuB,YAAY,QAAQ,KAAK,UAAU,IAAI;IACtE;EACD;AACA,SAAO,KAAK,SAAS,KAAK,KAAK,aAAa;AAC7C;AAfS;AAAAA,QAAA,wBAAA,wBAAA;AAiBF,SAAS,kBACf,SACA,KACA,KACA,UACA,iBACsB;AACtB,SAAO,uBAAuB,SAAS,KAAK,KAAK,UAAU;IAC1D,GAAG;IACH;EACD,CAAC;AACF;AAXgB;AAAAA,QAAA,mBAAA,mBAAA;AN3ChB,IAAM,iCAAN,MAAM,gCAA8D;SAAA;;;EAGnE,YACU,eACA,MACT,SACC;AAHQ,SAAA,gBAAA;AACA,SAAA,OAAA;AAGT,SAAK,WAAW;EACjB;EArBD,OAYoE;AAAA,IAAAA,QAAA,MAAA,gCAAA;EAAA;EAC1D;EAUT,UAAU;AACT,QAAI,EAAE,gBAAgB,kCAAiC;AACtD,YAAM,IAAI,UAAU,oBAAoB;IACzC;AAEA,SAAK,SAAS;EACf;AACD;AAEA,SAAS,oBAAoB,QAA0C;AAEtE,MACC,qCAAqC,UACrC,iCAAiC,WAAW,GAC3C;AACD,WAAO;EACR;AAEA,aAAW,cAAc,kCAAkC;AAC1D,wBAAoB,UAAU;EAC/B;AAEA,QAAM,kBAA+C,gBAAAA,QAAA,SACpD,SACA,KACA,KACC;AACD,QAAI,OAAO,UAAU,QAAW;AAC/B,YAAM,IAAI,MAAM,6CAA6C;IAC9D;AACA,WAAO,OAAO,MAAM,SAAS,KAAK,GAAG;EACtC,GATqD,iBAAA;AAWrD,SAAO;IACN,GAAG;IACH,MAAM,SAAS,KAAK,KAAK;AACxB,YAAM,aAAyB,gBAAAA,QAAA,SAAU,MAAM,MAAM;AACpD,YAAI,SAAS,eAAe,OAAO,cAAc,QAAW;AAC3D,gBAAM,aAAa,IAAI;YACtB,KAAK,IAAI;YACT,KAAK,QAAQ;YACb,MAAM;YAAC;UACR;AACA,iBAAO,OAAO,UAAU,YAAY,KAAK,GAAG;QAC7C;MACD,GAT+B,YAAA;AAU/B,aAAO,kBAAkB,SAAS,KAAK,KAAK,YAAY,eAAe;IACxE;EACD;AACD;AAxCS;AAAAA,QAAA,qBAAA,qBAAA;AA0CT,SAAS,qBACR,OAC8B;AAE9B,MACC,qCAAqC,UACrC,iCAAiC,WAAW,GAC3C;AACD,WAAO;EACR;AAEA,aAAW,cAAc,kCAAkC;AAC1D,wBAAoB,UAAU;EAC/B;AAGA,SAAO,cAAc,MAAM;IAC1B,mBAAyE,gBAAAA,QAAA,CACxE,SACA,KACA,QACI;AACJ,WAAK,MAAM;AACX,WAAK,MAAM;AACX,UAAI,MAAM,UAAU,QAAW;AAC9B,cAAM,IAAI,MAAM,sDAAsD;MACvE;AACA,aAAO,MAAM,MAAM,OAAO;IAC3B,GAXyE,kBAAA;IAazE,cAA0B,gBAAAA,QAAA,CAAC,MAAM,SAAS;AACzC,UAAI,SAAS,eAAe,MAAM,cAAc,QAAW;AAC1D,cAAM,aAAa,IAAI;UACtB,KAAK,IAAI;UACT,KAAK,QAAQ;UACb,MAAM;UAAC;QACR;AACA,eAAO,MAAM,UAAU,UAAU;MAClC;IACD,GAT0B,aAAA;IAW1B,MAAM,SAAwD;AAC7D,aAAO;QACN;QACA,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;MACN;IACD;EACD;AACD;AAnDS;AAAAA,QAAA,sBAAA,sBAAA;AAqDT,IAAI;AACJ,IAAI,OAAO,wCAAU,UAAU;AAC9B,kBAAgB,oBAAoB,mCAAK;AAC1C,WAAW,OAAO,wCAAU,YAAY;AACvC,kBAAgB,qBAAqB,mCAAK;AAC3C;AACA,IAAO,kCAAQ;;;AOnIf,IAAMoB,aAAwB,8BAAO,SAAS,KAAK,MAAM,kBAAkB;AAC1E,MAAI;AACH,WAAO,MAAM,cAAc,KAAK,SAAS,GAAG;AAAA,EAC7C,UAAE;AACD,QAAI;AACH,UAAI,QAAQ,SAAS,QAAQ,CAAC,QAAQ,UAAU;AAC/C,cAAM,SAAS,QAAQ,KAAK,UAAU;AACtC,eAAO,EAAE,MAAM,OAAO,KAAK,GAAG,MAAM;AAAA,QAAC;AAAA,MACtC;AAAA,IACD,SAAS,GAAG;AACX,cAAQ,MAAM,4CAA4C,CAAC;AAAA,IAC5D;AAAA,EACD;AACD,GAb8B;AAe9B,IAAOC,8CAAQD;;;ACRf,SAASE,aAAY,GAAmB;AACvC,SAAO;AAAA,IACN,MAAM,GAAG;AAAA,IACT,SAAS,GAAG,WAAW,OAAO,CAAC;AAAA,IAC/B,OAAO,GAAG;AAAA,IACV,OAAO,GAAG,UAAU,SAAY,SAAYA,aAAY,EAAE,KAAK;AAAA,EAChE;AACD;AAPS,OAAAA,cAAA;AAUT,IAAMC,aAAwB,8BAAO,SAAS,KAAK,MAAM,kBAAkB;AAC1E,MAAI;AACH,WAAO,MAAM,cAAc,KAAK,SAAS,GAAG;AAAA,EAC7C,SAAS,GAAQ;AAChB,UAAM,QAAQD,aAAY,CAAC;AAC3B,WAAO,SAAS,KAAK,OAAO;AAAA,MAC3B,QAAQ;AAAA,MACR,SAAS,EAAE,+BAA+B,OAAO;AAAA,IAClD,CAAC;AAAA,EACF;AACD,GAV8B;AAY9B,IAAOE,4CAAQD;;;ACzBJ,IAAME,oCAAmC;AAAA,EAE9BC;AAAA,EAAyBC;AAC3C;AACA,IAAOC,uCAAQ;;;ACcnB,IAAMC,yBAAsC,CAAC;AAKtC,SAASC,wBAAuB,MAAqC;AAC3E,EAAAD,uBAAsB,KAAK,GAAG,KAAK,KAAK,CAAC;AAC1C;AAFgB,OAAAC,sBAAA;AAShB,SAASC,wBACR,SACA,KACA,KACA,UACA,iBACsB;AACtB,QAAM,CAAC,MAAM,GAAG,IAAI,IAAI;AACxB,QAAM,gBAAmC;AAAA,IACxC;AAAA,IACA,KAAK,YAAY,QAAQ;AACxB,aAAOA,wBAAuB,YAAY,QAAQ,KAAK,UAAU,IAAI;AAAA,IACtE;AAAA,EACD;AACA,SAAO,KAAK,SAAS,KAAK,KAAK,aAAa;AAC7C;AAfS,OAAAA,yBAAA;AAiBF,SAASC,mBACf,SACA,KACA,KACA,UACA,iBACsB;AACtB,SAAOD,wBAAuB,SAAS,KAAK,KAAK,UAAU;AAAA,IAC1D,GAAGE;AAAA,IACH;AAAA,EACD,CAAC;AACF;AAXgB,OAAAD,oBAAA;;;AC3ChB,IAAME,kCAAN,MAAMC,iCAA8D;AAAA,EAGnE,YACU,eACA,MACT,SACC;AAHQ;AACA;AAGT,SAAK,WAAW;AAAA,EACjB;AAAA,EArBD,OAYoE;AAAA;AAAA;AAAA,EAC1D;AAAA,EAUT,UAAU;AACT,QAAI,EAAE,gBAAgBA,mCAAiC;AACtD,YAAM,IAAI,UAAU,oBAAoB;AAAA,IACzC;AAEA,SAAK,SAAS;AAAA,EACf;AACD;AAEA,SAASC,qBAAoB,QAA0C;AAEtE,MACCC,sCAAqC,UACrCA,kCAAiC,WAAW,GAC3C;AACD,WAAO;AAAA,EACR;AAEA,aAAW,cAAcA,mCAAkC;AAC1D,IAAAC,qBAAoB,UAAU;AAAA,EAC/B;AAEA,QAAM,kBAA+C,gCACpD,SACA,KACA,KACC;AACD,QAAI,OAAO,UAAU,QAAW;AAC/B,YAAM,IAAI,MAAM,6CAA6C;AAAA,IAC9D;AACA,WAAO,OAAO,MAAM,SAAS,KAAK,GAAG;AAAA,EACtC,GATqD;AAWrD,SAAO;AAAA,IACN,GAAG;AAAA,IACH,MAAM,SAAS,KAAK,KAAK;AACxB,YAAM,aAAyB,gCAAU,MAAM,MAAM;AACpD,YAAI,SAAS,eAAe,OAAO,cAAc,QAAW;AAC3D,gBAAM,aAAa,IAAIJ;AAAA,YACtB,KAAK,IAAI;AAAA,YACT,KAAK,QAAQ;AAAA,YACb,MAAM;AAAA,YAAC;AAAA,UACR;AACA,iBAAO,OAAO,UAAU,YAAY,KAAK,GAAG;AAAA,QAC7C;AAAA,MACD,GAT+B;AAU/B,aAAOK,mBAAkB,SAAS,KAAK,KAAK,YAAY,eAAe;AAAA,IACxE;AAAA,EACD;AACD;AAxCS,OAAAH,sBAAA;AA0CT,SAASI,sBACR,OAC8B;AAE9B,MACCH,sCAAqC,UACrCA,kCAAiC,WAAW,GAC3C;AACD,WAAO;AAAA,EACR;AAEA,aAAW,cAAcA,mCAAkC;AAC1D,IAAAC,qBAAoB,UAAU;AAAA,EAC/B;AAGA,SAAO,cAAc,MAAM;AAAA,IAC1B,mBAAyE,wBACxE,SACA,KACA,QACI;AACJ,WAAK,MAAM;AACX,WAAK,MAAM;AACX,UAAI,MAAM,UAAU,QAAW;AAC9B,cAAM,IAAI,MAAM,sDAAsD;AAAA,MACvE;AACA,aAAO,MAAM,MAAM,OAAO;AAAA,IAC3B,GAXyE;AAAA,IAazE,cAA0B,wBAAC,MAAM,SAAS;AACzC,UAAI,SAAS,eAAe,MAAM,cAAc,QAAW;AAC1D,cAAM,aAAa,IAAIJ;AAAA,UACtB,KAAK,IAAI;AAAA,UACT,KAAK,QAAQ;AAAA,UACb,MAAM;AAAA,UAAC;AAAA,QACR;AACA,eAAO,MAAM,UAAU,UAAU;AAAA,MAClC;AAAA,IACD,GAT0B;AAAA,IAW1B,MAAM,SAAwD;AAC7D,aAAOK;AAAA,QACN;AAAA,QACA,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,MACN;AAAA,IACD;AAAA,EACD;AACD;AAnDS,OAAAC,uBAAA;AAqDT,IAAIC;AACJ,IAAI,OAAOC,yCAAU,UAAU;AAC9B,EAAAD,iBAAgBL,qBAAoBM,oCAAK;AAC1C,WAAW,OAAOA,yCAAU,YAAY;AACvC,EAAAD,iBAAgBD,sBAAqBE,oCAAK;AAC3C;AACA,IAAOC,mCAAQF;",
  "names": ["checkURL", "urls", "__name", "nodeCrypto", "callback", "salt", "hash", "err", "parse", "parseCookie", "serializeCookie", "onRequestPost", "onRequestGet", "init_codes", "match", "init_signup", "value", "_a", "result", "char", "prefix", "i", "drainBody", "middleware_ensure_req_body_drained_default", "reduceError", "jsonError", "middleware_miniflare3_json_error_default", "__INTERNAL_WRANGLER_MIDDLEWARE__", "middleware_ensure_req_body_drained_default", "middleware_miniflare3_json_error_default", "middleware_insertion_facade_default", "__facade_middleware__", "__facade_register__", "__facade_invokeChain__", "__facade_invoke__", "__facade_middleware__", "__Facade_ScheduledController__", "___Facade_ScheduledController__", "wrapExportedHandler", "__INTERNAL_WRANGLER_MIDDLEWARE__", "__facade_register__", "__facade_invoke__", "wrapWorkerEntrypoint", "WRAPPED_ENTRY", "middleware_insertion_facade_default", "middleware_loader_entry_default"]
}
